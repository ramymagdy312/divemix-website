(()=>{var e={};e.id=7519,e.ids=[7519],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},39204:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o}),t(14256),t(11506),t(35866);var r=t(23191),i=t(88716),a=t(37922),n=t.n(a),c=t(95231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(s,l);let o=["",{children:["final-forms-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,14256)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\final-forms-test\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\final-forms-test\\page.tsx"],u="/final-forms-test/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/final-forms-test/page",pathname:"/final-forms-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},82266:(e,s,t)=>{Promise.resolve().then(t.bind(t,51494))},72593:()=>{},29823:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},51494:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(10326),i=t(17577),a=t(99060);function n(){let[e,s]=(0,i.useState)({}),[t,n]=(0,i.useState)(!1),[c,l]=(0,i.useState)(""),o=async()=>{for(let e of(n(!0),s({}),["Database Connection","Applications Table Structure","Services Table Structure","Application Insert Test","Service Insert Test","Application Update Test","Service Update Test","RLS Policies Check"])){l(e),await new Promise(e=>setTimeout(e,500));try{switch(e){case"Database Connection":await d();break;case"Applications Table Structure":await u();break;case"Services Table Structure":await p();break;case"Application Insert Test":await m();break;case"Service Insert Test":await x();break;case"Application Update Test":await b();break;case"Service Update Test":await h();break;case"RLS Policies Check":await f()}}catch(t){s(s=>({...s,[e]:{status:"error",message:t.message,details:t}}))}}l(""),n(!1)},d=async()=>{try{let{data:e,error:t}=await a.O.from("applications").select("count").limit(1);if(t)throw t;s(e=>({...e,"Database Connection":{status:"success",message:"Connected successfully",details:"Supabase connection is working"}}))}catch(e){throw Error(`Database connection failed: ${e.message}`)}},u=async()=>{try{let{data:e,error:t}=await a.O.from("applications").select("*").limit(1);if(t)throw t;let r=e?.[0];if(r){let e=Object.keys(r),t=["name","description","image_url","use_cases","benefits","is_active","display_order"].filter(s=>!e.includes(s));if(t.length>0)throw Error(`Missing fields: ${t.join(", ")}`);s(s=>({...s,"Applications Table Structure":{status:"success",message:"All required fields present",details:`Fields: ${e.join(", ")}`}}))}else s(e=>({...e,"Applications Table Structure":{status:"warning",message:"Table exists but is empty",details:"Cannot verify field structure without data"}}))}catch(e){throw Error(`Applications table check failed: ${e.message}`)}},p=async()=>{try{let{data:e,error:t}=await a.O.from("services").select("*").limit(1);if(t)throw t;let r=e?.[0];if(r){let e=Object.keys(r),t=["name","description","icon","features","is_active","display_order"].filter(s=>!e.includes(s));if(t.length>0)throw Error(`Missing fields: ${t.join(", ")}`);s(s=>({...s,"Services Table Structure":{status:"success",message:"All required fields present",details:`Fields: ${e.join(", ")}`}}))}else s(e=>({...e,"Services Table Structure":{status:"warning",message:"Table exists but is empty",details:"Cannot verify field structure without data"}}))}catch(e){throw Error(`Services table check failed: ${e.message}`)}},m=async()=>{try{let e={name:"Test Application "+Date.now(),description:"Test description for application",image_url:"https://example.com/test.jpg",use_cases:["Test use case 1","Test use case 2"],benefits:["Test benefit 1","Test benefit 2"],is_active:!0,display_order:999},{data:t,error:r}=await a.O.from("applications").insert([e]).select().single();if(r)throw r;await a.O.from("applications").delete().eq("id",t.id),s(e=>({...e,"Application Insert Test":{status:"success",message:"Insert and cleanup successful",details:`Created record with ID: ${t.id}`}}))}catch(e){throw Error(`Application insert failed: ${e.message}`)}},x=async()=>{try{let e={name:"Test Service "+Date.now(),description:"Test description for service",icon:"\uD83D\uDD27",features:["Test feature 1","Test feature 2"],is_active:!0,display_order:999},{data:t,error:r}=await a.O.from("services").insert([e]).select().single();if(r)throw r;await a.O.from("services").delete().eq("id",t.id),s(e=>({...e,"Service Insert Test":{status:"success",message:"Insert and cleanup successful",details:`Created record with ID: ${t.id}`}}))}catch(e){throw Error(`Service insert failed: ${e.message}`)}},b=async()=>{try{let e={name:"Test App for Update "+Date.now(),description:"Original description",image_url:"https://example.com/original.jpg",use_cases:["Original use case"],benefits:["Original benefit"],is_active:!0,display_order:998},{data:t,error:r}=await a.O.from("applications").insert([e]).select().single();if(r)throw r;let{data:i,error:n}=await a.O.from("applications").update({name:"Updated Test App",description:"Updated description",use_cases:["Updated use case"],benefits:["Updated benefit"]}).eq("id",t.id).select().single();if(n)throw n;await a.O.from("applications").delete().eq("id",t.id),s(e=>({...e,"Application Update Test":{status:"success",message:"Update and cleanup successful",details:`Updated record: ${i.name}`}}))}catch(e){throw Error(`Application update failed: ${e.message}`)}},h=async()=>{try{let e={name:"Test Service for Update "+Date.now(),description:"Original description",icon:"\uD83D\uDD27",features:["Original feature"],is_active:!0,display_order:998},{data:t,error:r}=await a.O.from("services").insert([e]).select().single();if(r)throw r;let{data:i,error:n}=await a.O.from("services").update({name:"Updated Test Service",description:"Updated description",features:["Updated feature"]}).eq("id",t.id).select().single();if(n)throw n;await a.O.from("services").delete().eq("id",t.id),s(e=>({...e,"Service Update Test":{status:"success",message:"Update and cleanup successful",details:`Updated record: ${i.name}`}}))}catch(e){throw Error(`Service update failed: ${e.message}`)}},f=async()=>{try{let{data:e,error:t}=await a.O.from("applications").select("id").limit(1),{data:r,error:i}=await a.O.from("services").select("id").limit(1);if(t||i)throw Error(`RLS blocking access: ${t?.message||i?.message}`);s(e=>({...e,"RLS Policies Check":{status:"success",message:"RLS policies allow required operations",details:"No blocking policies detected"}}))}catch(e){throw Error(`RLS check failed: ${e.message}`)}},g=e=>{switch(e){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";default:return"⚪"}},v=e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},w=Object.values(e).filter(e=>"success"===e.status).length,y=Object.values(e).filter(e=>"error"===e.status).length,j=Object.values(e).filter(e=>"warning"===e.status).length,T=Object.keys(e).length;return(0,r.jsxs)("div",{className:"p-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"\uD83E\uDDEA Final Forms Test Suite"}),(0,r.jsxs)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-blue-800 mb-2",children:"\uD83C\uDFAF Comprehensive Forms Testing"}),r.jsx("p",{className:"text-blue-700 mb-2",children:"This test suite performs end-to-end testing of all form operations to ensure everything works correctly."}),(0,r.jsxs)("div",{className:"text-sm text-blue-600",children:[r.jsx("strong",{children:"Tests include:"})," Database connection, table structures, CRUD operations, and RLS policies."]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("button",{onClick:o,disabled:t,className:"bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 text-lg font-semibold mr-4",children:t?"\uD83E\uDDEA Running Tests...":"\uD83D\uDE80 Run Complete Test Suite"}),t&&c&&(0,r.jsxs)("span",{className:"text-blue-600 font-medium",children:["Currently testing: ",c]})]}),T>0&&(0,r.jsxs)("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:w}),r.jsx("div",{className:"text-sm text-green-800",children:"Passed"})]}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:y}),r.jsx("div",{className:"text-sm text-red-800",children:"Failed"})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j}),r.jsx("div",{className:"text-sm text-yellow-800",children:"Warnings"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-4 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:T}),r.jsx("div",{className:"text-sm text-blue-800",children:"Total Tests"})]})]}),r.jsx("div",{className:"space-y-4",children:Object.entries(e).map(([e,s])=>(0,r.jsxs)("div",{className:`border rounded-lg p-4 ${v(s.status)}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("h3",{className:"font-semibold flex items-center",children:[r.jsx("span",{className:"mr-2 text-xl",children:g(s.status)}),e]}),r.jsx("span",{className:"text-sm opacity-75",children:s.status.toUpperCase()})]}),r.jsx("p",{className:"text-sm mb-1",children:s.message}),s.details&&r.jsx("p",{className:"text-xs opacity-75",children:s.details})]},e))}),T>0&&0===y&&(0,r.jsxs)("div",{className:"mt-8 bg-green-50 border border-green-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-2",children:"\uD83C\uDF89 All Tests Passed!"}),r.jsx("p",{className:"text-green-700 mb-4",children:"Your forms should now work correctly. You can safely use the admin interface to add and edit applications and services."}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-green-600",children:[r.jsx("p",{children:"✅ Database connection is working"}),r.jsx("p",{children:"✅ Table structures are correct"}),r.jsx("p",{children:"✅ Insert operations work"}),r.jsx("p",{children:"✅ Update operations work"}),r.jsx("p",{children:"✅ RLS policies are not blocking operations"})]})]}),y>0&&(0,r.jsxs)("div",{className:"mt-8 bg-red-50 border border-red-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-red-800 mb-2",children:"❌ Issues Found"}),r.jsx("p",{className:"text-red-700 mb-4",children:"Some tests failed. Please address these issues before using the forms:"}),r.jsx("div",{className:"space-y-2 text-sm text-red-600",children:Object.entries(e).filter(([e,s])=>"error"===s.status).map(([e,s])=>(0,r.jsxs)("p",{children:["❌ ",e,": ",s.message]},e))}),r.jsx("div",{className:"mt-4 p-3 bg-red-100 rounded",children:(0,r.jsxs)("p",{className:"text-sm text-red-800",children:[r.jsx("strong",{children:"Next steps:"})," Visit /fix-rls-policies for solutions, or check your Supabase dashboard for configuration issues."]})})]})]})}},99060:(e,s,t)=>{"use strict";t.d(s,{O:()=>n});var r=t(52997);let i="https://ilxfqrxybtcftioizoan.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseGZxcnh5YnRjZnRpb2l6b2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTg5MjMsImV4cCI6MjA2OTQzNDkyM30.Jhjy7136xlqHcVjeCGPDvh4Ofpio3a09Y2fFu2Sqqh0";i||console.warn("Supabase URL not configured properly. Using fallback configuration."),a||console.warn("Supabase Anon Key not configured properly. Using fallback configuration.");let n=(0,r.eI)(i||"https://placeholder.supabase.co",a||"placeholder-key")},14256:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\final-forms-test\page.tsx#default`)},11506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a,metadata:()=>i});var r=t(19510);t(67272);let i={title:"DiveMix - Gas & Compressor Technologies",description:"Leading the industry in compressed air and gas solutions since 1990",icons:{icon:"/img/faveicon.ico"}};function a({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},67272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,4471,2997],()=>t(39204));module.exports=r})();