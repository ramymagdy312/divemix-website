(()=>{var e={};e.id=928,e.ids=[928],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},3857:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(936),r(1506),r(5866);var s=r(3191),i=r(8716),a=r(7922),n=r.n(a),l=r(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,936)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\gallery\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\gallery\\page.tsx"],u="/gallery/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/gallery/page",pathname:"/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4581:(e,t,r)=>{Promise.resolve().then(r.bind(r,4826)),Promise.resolve().then(r.bind(r,1211)),Promise.resolve().then(r.bind(r,4107)),Promise.resolve().then(r.bind(r,3102)),Promise.resolve().then(r.bind(r,3991))},4107:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var s=r(326),i=r(7577),a=r(58),n=r(8129),l=r(9060),o=r(6226);let c=(0,i.forwardRef)(({image:e,onClick:t},r)=>(0,s.jsxs)(a.E.div,{ref:r,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},onClick:t,className:"cursor-pointer group relative aspect-square overflow-hidden rounded-lg bg-gray-100",children:[s.jsx(o.default,{src:e.url,alt:e.title,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-110"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h3",{className:"text-white font-semibold text-lg transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.title}),s.jsx("p",{className:"text-white/80 text-sm transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-75",children:e.category})]})})]}));c.displayName="GalleryImage";var d=r(4019),u=r(1890),p=r(9183);let m=({image:e,onClose:t,onNext:r,onPrevious:n,hasNext:l})=>((0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t(),"ArrowRight"===e.key&&l&&r(),"ArrowLeft"===e.key&&l&&n()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,r,n,l]),(0,s.jsxs)(a.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 backdrop-blur-sm",onClick:t,children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/80 hover:text-white p-2 transition-colors",children:s.jsx(d.Z,{className:"h-8 w-8"})}),(0,s.jsxs)("div",{className:"h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:[l&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:n,className:"absolute left-4 text-white/80 hover:text-white p-2 transition-colors",children:s.jsx(u.Z,{className:"h-8 w-8"})}),s.jsx("button",{onClick:r,className:"absolute right-4 text-white/80 hover:text-white p-2 transition-colors",children:s.jsx(p.Z,{className:"h-8 w-8"})})]}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[s.jsx(a.E.img,{src:e.url,alt:e.title,className:"max-h-[85vh] max-w-full object-contain mx-auto",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3}},e.url),(0,s.jsxs)("div",{className:"text-center mt-4",children:[s.jsx("h3",{className:"text-white text-xl font-semibold",children:e.title}),s.jsx("p",{className:"text-white/80 mt-1",children:e.category})]})]})]})]})),h=({categories:e,selectedCategory:t,onSelectCategory:r})=>s.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:e.map(e=>s.jsx(a.E.button,{onClick:()=>r(e),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
            ${t===e?"bg-cyan-600 text-white shadow-lg scale-105":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),x=()=>{let[e,t]=(0,i.useState)([]),[r,o]=(0,i.useState)(!0),[d,u]=(0,i.useState)(null),[p,x]=(0,i.useState)("all");(0,i.useEffect)(()=>{f()},[]);let f=async()=>{try{let{data:e,error:r}=await l.O.from("gallery_images").select("*").order("created_at",{ascending:!1});if(r)throw r;t(e||[])}catch(e){console.error("Error fetching gallery images:",e)}finally{o(!1)}},g=["all",...new Set(e.map(e=>e.category))],y="all"===p?e:e.filter(e=>e.category===p),v=e=>{u(e)};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):(0,s.jsxs)("div",{children:[s.jsx(h,{categories:g,selectedCategory:p,onSelectCategory:x}),s.jsx(a.E.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.jsx(n.M,{mode:"popLayout",children:y.map(e=>s.jsx(c,{image:e,onClick:()=>v(e)},e.id))})}),s.jsx(n.M,{children:d&&s.jsx(m,{image:d,onClose:()=>u(null),onNext:()=>{if(!d)return;let e=y.findIndex(e=>e.id===d.id);u(y[(e+1)%y.length])},onPrevious:()=>{if(!d)return;let e=y.findIndex(e=>e.id===d.id);u(y[0===e?y.length-1:e-1])},hasNext:y.length>1})})]})}},1890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9183:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5623:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(8570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\components\common\PageHeader.tsx#default`)},936:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(9510);let i=(0,r(8570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\components\gallery\GalleryGridDB.tsx#default`);var a=r(5623),n=r(1700),l=r(4267),o=r(6884);function c(){return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col",children:[s.jsx(n.Z,{}),s.jsx("main",{className:"flex-grow page-content",children:(0,s.jsxs)("div",{children:[s.jsx(a.Z,{title:"Gallery",description:"Experience our world-class facilities and installations through our curated collection of images",backgroundImage:"https://images.unsplash.com/photo-1581094288338-2314dddb7ece?auto=format&fit=crop&w=2000"}),s.jsx("div",{className:"py-16 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx(i,{})})})]})}),s.jsx(l.Z,{}),s.jsx(o.Z,{})]})}},8129:(e,t,r)=>{"use strict";r.d(t,{M:()=>g});var s=r(326),i=r(7577),a=r(339),n=r(4749),l=r(295),o=r(3965);class c extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let r=(0,i.useId)(),a=(0,i.useRef)(null),n=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:l}=(0,i.useContext)(o._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:s,top:i,left:o}=n.current;if(t||!a.current||!e||!s)return;a.current.dataset.motionPopId=r;let c=document.createElement("style");return l&&(c.nonce=l),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,s.jsx)(c,{isPresent:t,childRef:a,sizeRef:n,children:i.cloneElement(e,{ref:a})})}let u=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:u})=>{let m=(0,n.h)(p),h=(0,i.useId)(),x=(0,i.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;a&&a()},[m,a]),f=(0,i.useMemo)(()=>({id:h,initial:t,isPresent:r,custom:o,onExitComplete:x,register:e=>(m.set(e,!1),()=>m.delete(e))}),c?[Math.random(),x]:[r,x]);return(0,i.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[r]),i.useEffect(()=>{r||m.size||!a||a()},[r]),"popLayout"===u&&(e=(0,s.jsx)(d,{isPresent:r,children:e})),(0,s.jsx)(l.O.Provider,{value:f,children:e})};function p(){return new Map}var m=r(6933);let h=e=>e.key||"";function x(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var f=r(2482);let g=({children:e,custom:t,initial:r=!0,onExitComplete:l,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1})=>{let[p,g]=(0,m.oO)(d),y=(0,i.useMemo)(()=>x(e),[e]),v=d&&!p?[]:y.map(h),j=(0,i.useRef)(!0),w=(0,i.useRef)(y),b=(0,n.h)(()=>new Map),[N,P]=(0,i.useState)(y),[R,E]=(0,i.useState)(y);(0,f.L)(()=>{j.current=!1,w.current=y;for(let e=0;e<R.length;e++){let t=h(R[e]);v.includes(t)?b.delete(t):!0!==b.get(t)&&b.set(t,!1)}},[R,v.length,v.join("-")]);let k=[];if(y!==N){let e=[...y];for(let t=0;t<R.length;t++){let r=R[t],s=h(r);v.includes(s)||(e.splice(t,0,r),k.push(r))}"wait"===c&&k.length&&(e=k),E(x(e)),P(y);return}let{forceRender:C}=(0,i.useContext)(a.p);return(0,s.jsx)(s.Fragment,{children:R.map(e=>{let i=h(e),a=(!d||!!p)&&(y===R||v.includes(i));return(0,s.jsx)(u,{isPresent:a,initial:(!j.current||!!r)&&void 0,custom:a?void 0:t,presenceAffectsLayout:o,mode:c,onExitComplete:a?void 0:()=>{if(!b.has(i))return;b.set(i,!0);let e=!0;b.forEach(t=>{t||(e=!1)}),e&&(null==C||C(),E(w.current),d&&(null==g||g()),l&&l())},children:e},i)})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,471,86,226,493,862],()=>r(3857));module.exports=s})();