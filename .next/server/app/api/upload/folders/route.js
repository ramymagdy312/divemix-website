/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/upload/folders/route";
exports.ids = ["app/api/upload/folders/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload%2Ffolders%2Froute&page=%2Fapi%2Fupload%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Ffolders%2Froute.ts&appDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload%2Ffolders%2Froute&page=%2Fapi%2Fupload%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Ffolders%2Froute.ts&appDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Ramy_RTS_ReactJS_divemix_website_app_api_upload_folders_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/upload/folders/route.ts */ \"(rsc)/./app/api/upload/folders/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/upload/folders/route\",\n        pathname: \"/api/upload/folders\",\n        filename: \"route\",\n        bundlePath: \"app/api/upload/folders/route\"\n    },\n    resolvedPagePath: \"D:\\\\Ramy\\\\RTS\\\\ReactJS\\\\divemix-website\\\\app\\\\api\\\\upload\\\\folders\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Ramy_RTS_ReactJS_divemix_website_app_api_upload_folders_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/upload/folders/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1cGxvYWQlMkZmb2xkZXJzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ1cGxvYWQlMkZmb2xkZXJzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdXBsb2FkJTJGZm9sZGVycyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUmFteSU1Q1JUUyU1Q1JlYWN0SlMlNUNkaXZlbWl4LXdlYnNpdGUlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNSYW15JTVDUlRTJTVDUmVhY3RKUyU1Q2RpdmVtaXgtd2Vic2l0ZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNEI7QUFDekc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kaXZlbWl4LXdlYnNpdGUvPzljYWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcUmFteVxcXFxSVFNcXFxcUmVhY3RKU1xcXFxkaXZlbWl4LXdlYnNpdGVcXFxcYXBwXFxcXGFwaVxcXFx1cGxvYWRcXFxcZm9sZGVyc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdXBsb2FkL2ZvbGRlcnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS91cGxvYWQvZm9sZGVyc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdXBsb2FkL2ZvbGRlcnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxSYW15XFxcXFJUU1xcXFxSZWFjdEpTXFxcXGRpdmVtaXgtd2Vic2l0ZVxcXFxhcHBcXFxcYXBpXFxcXHVwbG9hZFxcXFxmb2xkZXJzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS91cGxvYWQvZm9sZGVycy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload%2Ffolders%2Froute&page=%2Fapi%2Fupload%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Ffolders%2Froute.ts&appDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/upload/folders/route.ts":
/*!*****************************************!*\
  !*** ./app/api/upload/folders/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/supabase */ \"(rsc)/./app/lib/supabase.ts\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n// GET - جلب قائمة المجلدات (مع دعم المجلدات المتداخلة)\nasync function GET(req) {\n    try {\n        const { searchParams } = new URL(req.url);\n        const parentPath = searchParams.get(\"path\") || \"\";\n        const folders = [];\n        // Build the full path for listing\n        const listPath = parentPath ? `uploads/${parentPath}` : \"uploads\";\n        // Try to get folders from Supabase Storage first\n        try {\n            const { data: supabaseFolders, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.storage.from(\"images\").list(listPath, {\n                limit: 1000,\n                offset: 0\n            });\n            if (!error && supabaseFolders) {\n                // Get unique folder names from file paths and actual folders\n                const folderSet = new Set();\n                for (const item of supabaseFolders){\n                    if (item.name && item.name !== \".emptyFolderPlaceholder\") {\n                        // Check if it's a folder (no extension and no size metadata)\n                        if (!item.name.includes(\".\") && !item.metadata?.size) {\n                            folderSet.add(item.name);\n                        } else if (item.name.includes(\"/\")) {\n                            const folderName = item.name.split(\"/\")[0];\n                            folderSet.add(folderName);\n                        }\n                    }\n                }\n                // Convert to array and add folder info\n                folderSet.forEach((folderName)=>{\n                    const fullPath = parentPath ? `${parentPath}/${folderName}` : folderName;\n                    folders.push({\n                        name: folderName,\n                        path: `uploads/${fullPath}`,\n                        fullPath: fullPath,\n                        parentPath: parentPath,\n                        source: \"supabase\",\n                        createdAt: new Date().toISOString(),\n                        isNested: parentPath.length > 0\n                    });\n                });\n            }\n        } catch (supabaseError) {\n            console.log(\"Supabase storage not available, checking local folders...\");\n        }\n        // Also check local uploads folder as fallback\n        try {\n            const uploadsDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"uploads\");\n            const targetDir = parentPath ? path__WEBPACK_IMPORTED_MODULE_3___default().join(uploadsDir, parentPath) : uploadsDir;\n            if (fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(targetDir)) {\n                const items = fs__WEBPACK_IMPORTED_MODULE_2___default().readdirSync(targetDir, {\n                    withFileTypes: true\n                });\n                const localFolders = items.filter((item)=>item.isDirectory());\n                for (const folder of localFolders){\n                    // Check if this folder is not already in the list\n                    const existingFolder = folders.find((f)=>f.name === folder.name);\n                    if (!existingFolder) {\n                        const folderPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(targetDir, folder.name);\n                        const stats = fs__WEBPACK_IMPORTED_MODULE_2___default().statSync(folderPath);\n                        const fullPath = parentPath ? `${parentPath}/${folder.name}` : folder.name;\n                        folders.push({\n                            name: folder.name,\n                            path: `uploads/${fullPath}`,\n                            fullPath: fullPath,\n                            parentPath: parentPath,\n                            source: \"local\",\n                            createdAt: stats.birthtime.toISOString(),\n                            isNested: parentPath.length > 0\n                        });\n                    }\n                }\n            }\n        } catch (localError) {\n            console.log(\"Local uploads folder not accessible\");\n        }\n        // Don't add default folders - let users create their own structure\n        // Sort folders by name\n        folders.sort((a, b)=>a.name.localeCompare(b.name));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            folders: folders\n        });\n    } catch (error) {\n        console.error(\"Error fetching folders:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch folders\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - إنشاء مجلد جديد (مع دعم المجلدات المتداخلة)\nasync function POST(req) {\n    try {\n        const { folderName, parentPath } = await req.json();\n        if (!folderName || typeof folderName !== \"string\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Folder name is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Clean folder name (remove special characters)\n        const cleanFolderName = folderName.toLowerCase().replace(/[^a-z0-9-_]/g, \"-\").replace(/-+/g, \"-\").replace(/^-|-$/g, \"\");\n        if (!cleanFolderName) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid folder name\"\n            }, {\n                status: 400\n            });\n        }\n        // Build the full path\n        const fullPath = parentPath ? `${parentPath}/${cleanFolderName}` : cleanFolderName;\n        try {\n            // Create folder in Supabase by uploading a placeholder file\n            const placeholderContent = new Uint8Array([]);\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.storage.from(\"images\").upload(`uploads/${fullPath}/.emptyFolderPlaceholder`, placeholderContent, {\n                contentType: \"text/plain\"\n            });\n            if (error) {\n                console.error(\"Supabase folder creation error:\", error);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Failed to create folder in Supabase\"\n                }, {\n                    status: 500\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                folder: {\n                    name: cleanFolderName,\n                    path: `uploads/${fullPath}`,\n                    fullPath: fullPath,\n                    parentPath: parentPath || \"\",\n                    source: \"supabase\",\n                    createdAt: new Date().toISOString(),\n                    isNested: Boolean(parentPath)\n                }\n            });\n        } catch (supabaseError) {\n            // Fallback to local folder creation\n            try {\n                const uploadsDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"uploads\");\n                const folderPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(uploadsDir, fullPath);\n                if (!fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(folderPath)) {\n                    fs__WEBPACK_IMPORTED_MODULE_2___default().mkdirSync(folderPath, {\n                        recursive: true\n                    });\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        folder: {\n                            name: cleanFolderName,\n                            path: `uploads/${fullPath}`,\n                            fullPath: fullPath,\n                            parentPath: parentPath || \"\",\n                            source: \"local\",\n                            createdAt: new Date().toISOString(),\n                            isNested: Boolean(parentPath)\n                        }\n                    });\n                } else {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        error: \"Folder already exists\"\n                    }, {\n                        status: 400\n                    });\n                }\n            } catch (localError) {\n                console.error(\"Local folder creation error:\", localError);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Failed to create folder\"\n                }, {\n                    status: 500\n                });\n            }\n        }\n    } catch (error) {\n        console.error(\"Error creating folder:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Unexpected error occurred\"\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE - حذف مجلد (مع دعم المجلدات المتداخلة)\nasync function DELETE(req) {\n    try {\n        const { searchParams } = new URL(req.url);\n        const folderPath = searchParams.get(\"path\");\n        if (!folderPath) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Folder path is required\"\n            }, {\n                status: 400\n            });\n        }\n        try {\n            // Recursively delete all files and subfolders from Supabase\n            const deleteRecursively = async (currentPath)=>{\n                console.log(`Deleting folder: ${currentPath}`);\n                const { data: items, error: listError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.storage.from(\"images\").list(`uploads/${currentPath}`, {\n                    limit: 1000,\n                    offset: 0\n                });\n                if (listError) {\n                    console.error(\"Error listing folder contents:\", listError);\n                    return;\n                }\n                if (items && items.length > 0) {\n                    const filesToDelete = [];\n                    const foldersToDelete = [];\n                    for (const item of items){\n                        if (item.name) {\n                            const itemPath = `uploads/${currentPath}/${item.name}`;\n                            // Check if it's a file (has extension or size metadata) or placeholder\n                            if (item.name.includes(\".\") || item.metadata?.size !== undefined || item.name === \".emptyFolderPlaceholder\") {\n                                filesToDelete.push(itemPath);\n                                console.log(`Adding file to delete: ${itemPath}`);\n                            } else {\n                                // It's a subfolder, add to recursive deletion\n                                foldersToDelete.push(`${currentPath}/${item.name}`);\n                                console.log(`Adding folder to delete: ${currentPath}/${item.name}`);\n                            }\n                        }\n                    }\n                    // Delete files first (including placeholder files)\n                    if (filesToDelete.length > 0) {\n                        console.log(`Deleting ${filesToDelete.length} files:`, filesToDelete);\n                        const { error: deleteError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.storage.from(\"images\").remove(filesToDelete);\n                        if (deleteError) {\n                            console.error(\"Error deleting files:\", deleteError);\n                        } else {\n                            console.log(\"Files deleted successfully\");\n                        }\n                    }\n                    // Recursively delete subfolders\n                    for (const subfolderPath of foldersToDelete){\n                        await deleteRecursively(subfolderPath);\n                    }\n                }\n                // Also try to delete the placeholder file for this folder\n                const placeholderPath = `uploads/${currentPath}/.emptyFolderPlaceholder`;\n                console.log(`Attempting to delete placeholder: ${placeholderPath}`);\n                const { error: placeholderError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.storage.from(\"images\").remove([\n                    placeholderPath\n                ]);\n                if (placeholderError) {\n                    console.log(\"Placeholder file not found or already deleted:\", placeholderError);\n                } else {\n                    console.log(\"Placeholder file deleted successfully\");\n                }\n            };\n            await deleteRecursively(folderPath);\n            console.log(`Folder deletion completed for: ${folderPath}`);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: `Folder '${folderPath}' deleted successfully`\n            });\n        } catch (supabaseError) {\n            console.error(\"Supabase deletion error:\", supabaseError);\n            // Fallback to local folder deletion\n            try {\n                const uploadsDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"uploads\");\n                const targetFolderPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(uploadsDir, folderPath);\n                if (fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(targetFolderPath)) {\n                    fs__WEBPACK_IMPORTED_MODULE_2___default().rmSync(targetFolderPath, {\n                        recursive: true,\n                        force: true\n                    });\n                }\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true\n                });\n            } catch (localError) {\n                console.error(\"Local folder deletion error:\", localError);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: \"Failed to delete folder\"\n                }, {\n                    status: 500\n                });\n            }\n        }\n    } catch (error) {\n        console.error(\"Error deleting folder:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Unexpected error occurred\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxRQUFRO1FBQUk7SUFDakY7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2RpdmVtaXgtd2Vic2l0ZS8uL2FwcC9hcGkvdXBsb2FkL2ZvbGRlcnMvcm91dGUudHM/NDhiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uLy4uLy4uL2xpYi9zdXBhYmFzZSc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuLy8gR0VUIC0g2KzZhNioINmC2KfYptmF2Kkg2KfZhNmF2KzZhNiv2KfYqiAo2YXYuSDYr9i52YUg2KfZhNmF2KzZhNiv2KfYqiDYp9mE2YXYqtiv2KfYrtmE2KkpXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXEudXJsKTtcclxuICAgIGNvbnN0IHBhcmVudFBhdGggPSBzZWFyY2hQYXJhbXMuZ2V0KCdwYXRoJykgfHwgJyc7XHJcbiAgICBcclxuICAgIGNvbnN0IGZvbGRlcnM6IGFueVtdID0gW107XHJcblxyXG4gICAgLy8gQnVpbGQgdGhlIGZ1bGwgcGF0aCBmb3IgbGlzdGluZ1xyXG4gICAgY29uc3QgbGlzdFBhdGggPSBwYXJlbnRQYXRoID8gYHVwbG9hZHMvJHtwYXJlbnRQYXRofWAgOiAndXBsb2Fkcyc7XHJcblxyXG4gICAgLy8gVHJ5IHRvIGdldCBmb2xkZXJzIGZyb20gU3VwYWJhc2UgU3RvcmFnZSBmaXJzdFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhOiBzdXBhYmFzZUZvbGRlcnMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXHJcbiAgICAgICAgLmZyb20oJ2ltYWdlcycpXHJcbiAgICAgICAgLmxpc3QobGlzdFBhdGgsIHtcclxuICAgICAgICAgIGxpbWl0OiAxMDAwLFxyXG4gICAgICAgICAgb2Zmc2V0OiAwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKCFlcnJvciAmJiBzdXBhYmFzZUZvbGRlcnMpIHtcclxuICAgICAgICAvLyBHZXQgdW5pcXVlIGZvbGRlciBuYW1lcyBmcm9tIGZpbGUgcGF0aHMgYW5kIGFjdHVhbCBmb2xkZXJzXHJcbiAgICAgICAgY29uc3QgZm9sZGVyU2V0ID0gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHN1cGFiYXNlRm9sZGVycykge1xyXG4gICAgICAgICAgaWYgKGl0ZW0ubmFtZSAmJiBpdGVtLm5hbWUgIT09ICcuZW1wdHlGb2xkZXJQbGFjZWhvbGRlcicpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIGZvbGRlciAobm8gZXh0ZW5zaW9uIGFuZCBubyBzaXplIG1ldGFkYXRhKVxyXG4gICAgICAgICAgICBpZiAoIWl0ZW0ubmFtZS5pbmNsdWRlcygnLicpICYmICFpdGVtLm1ldGFkYXRhPy5zaXplKSB7XHJcbiAgICAgICAgICAgICAgZm9sZGVyU2V0LmFkZChpdGVtLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEFsc28gY2hlY2sgZm9yIG5lc3RlZCBwYXRocyBpbiBmaWxlIG5hbWVzXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0ubmFtZS5pbmNsdWRlcygnLycpKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZm9sZGVyTmFtZSA9IGl0ZW0ubmFtZS5zcGxpdCgnLycpWzBdO1xyXG4gICAgICAgICAgICAgIGZvbGRlclNldC5hZGQoZm9sZGVyTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdG8gYXJyYXkgYW5kIGFkZCBmb2xkZXIgaW5mb1xyXG4gICAgICAgIGZvbGRlclNldC5mb3JFYWNoKGZvbGRlck5hbWUgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZnVsbFBhdGggPSBwYXJlbnRQYXRoID8gYCR7cGFyZW50UGF0aH0vJHtmb2xkZXJOYW1lfWAgOiBmb2xkZXJOYW1lO1xyXG4gICAgICAgICAgZm9sZGVycy5wdXNoKHtcclxuICAgICAgICAgICAgbmFtZTogZm9sZGVyTmFtZSxcclxuICAgICAgICAgICAgcGF0aDogYHVwbG9hZHMvJHtmdWxsUGF0aH1gLFxyXG4gICAgICAgICAgICBmdWxsUGF0aDogZnVsbFBhdGgsXHJcbiAgICAgICAgICAgIHBhcmVudFBhdGg6IHBhcmVudFBhdGgsXHJcbiAgICAgICAgICAgIHNvdXJjZTogJ3N1cGFiYXNlJyxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgIGlzTmVzdGVkOiBwYXJlbnRQYXRoLmxlbmd0aCA+IDBcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChzdXBhYmFzZUVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTdXBhYmFzZSBzdG9yYWdlIG5vdCBhdmFpbGFibGUsIGNoZWNraW5nIGxvY2FsIGZvbGRlcnMuLi4nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBbHNvIGNoZWNrIGxvY2FsIHVwbG9hZHMgZm9sZGVyIGFzIGZhbGxiYWNrXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1cGxvYWRzRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAndXBsb2FkcycpO1xyXG4gICAgICBjb25zdCB0YXJnZXREaXIgPSBwYXJlbnRQYXRoID8gcGF0aC5qb2luKHVwbG9hZHNEaXIsIHBhcmVudFBhdGgpIDogdXBsb2Fkc0RpcjtcclxuICAgICAgXHJcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKHRhcmdldERpcikpIHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IGZzLnJlYWRkaXJTeW5jKHRhcmdldERpciwgeyB3aXRoRmlsZVR5cGVzOiB0cnVlIH0pO1xyXG4gICAgICAgIGNvbnN0IGxvY2FsRm9sZGVycyA9IGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0uaXNEaXJlY3RvcnkoKSk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgZm9sZGVyIG9mIGxvY2FsRm9sZGVycykge1xyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBmb2xkZXIgaXMgbm90IGFscmVhZHkgaW4gdGhlIGxpc3RcclxuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRm9sZGVyID0gZm9sZGVycy5maW5kKGYgPT4gZi5uYW1lID09PSBmb2xkZXIubmFtZSk7XHJcbiAgICAgICAgICBpZiAoIWV4aXN0aW5nRm9sZGVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwYXRoLmpvaW4odGFyZ2V0RGlyLCBmb2xkZXIubmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gZnMuc3RhdFN5bmMoZm9sZGVyUGF0aCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGFyZW50UGF0aCA/IGAke3BhcmVudFBhdGh9LyR7Zm9sZGVyLm5hbWV9YCA6IGZvbGRlci5uYW1lO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9sZGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICBuYW1lOiBmb2xkZXIubmFtZSxcclxuICAgICAgICAgICAgICBwYXRoOiBgdXBsb2Fkcy8ke2Z1bGxQYXRofWAsXHJcbiAgICAgICAgICAgICAgZnVsbFBhdGg6IGZ1bGxQYXRoLFxyXG4gICAgICAgICAgICAgIHBhcmVudFBhdGg6IHBhcmVudFBhdGgsXHJcbiAgICAgICAgICAgICAgc291cmNlOiAnbG9jYWwnLFxyXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogc3RhdHMuYmlydGh0aW1lLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgaXNOZXN0ZWQ6IHBhcmVudFBhdGgubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGxvY2FsRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0xvY2FsIHVwbG9hZHMgZm9sZGVyIG5vdCBhY2Nlc3NpYmxlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRG9uJ3QgYWRkIGRlZmF1bHQgZm9sZGVycyAtIGxldCB1c2VycyBjcmVhdGUgdGhlaXIgb3duIHN0cnVjdHVyZVxyXG5cclxuICAgIC8vIFNvcnQgZm9sZGVycyBieSBuYW1lXHJcbiAgICBmb2xkZXJzLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGZvbGRlcnM6IGZvbGRlcnNcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmb2xkZXJzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGZvbGRlcnMnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBQT1NUIC0g2KXZhti02KfYoSDZhdis2YTYryDYrNiv2YrYryAo2YXYuSDYr9i52YUg2KfZhNmF2KzZhNiv2KfYqiDYp9mE2YXYqtiv2KfYrtmE2KkpXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBmb2xkZXJOYW1lLCBwYXJlbnRQYXRoIH0gPSBhd2FpdCByZXEuanNvbigpO1xyXG5cclxuICAgIGlmICghZm9sZGVyTmFtZSB8fCB0eXBlb2YgZm9sZGVyTmFtZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGb2xkZXIgbmFtZSBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhbiBmb2xkZXIgbmFtZSAocmVtb3ZlIHNwZWNpYWwgY2hhcmFjdGVycylcclxuICAgIGNvbnN0IGNsZWFuRm9sZGVyTmFtZSA9IGZvbGRlck5hbWVcclxuICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgLnJlcGxhY2UoL1teYS16MC05LV9dL2csICctJylcclxuICAgICAgLnJlcGxhY2UoLy0rL2csICctJylcclxuICAgICAgLnJlcGxhY2UoL14tfC0kL2csICcnKTtcclxuXHJcbiAgICBpZiAoIWNsZWFuRm9sZGVyTmFtZSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgZm9sZGVyIG5hbWUnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQnVpbGQgdGhlIGZ1bGwgcGF0aFxyXG4gICAgY29uc3QgZnVsbFBhdGggPSBwYXJlbnRQYXRoID8gYCR7cGFyZW50UGF0aH0vJHtjbGVhbkZvbGRlck5hbWV9YCA6IGNsZWFuRm9sZGVyTmFtZTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDcmVhdGUgZm9sZGVyIGluIFN1cGFiYXNlIGJ5IHVwbG9hZGluZyBhIHBsYWNlaG9sZGVyIGZpbGVcclxuICAgICAgY29uc3QgcGxhY2Vob2xkZXJDb250ZW50ID0gbmV3IFVpbnQ4QXJyYXkoW10pO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAgIC5mcm9tKCdpbWFnZXMnKVxyXG4gICAgICAgIC51cGxvYWQoYHVwbG9hZHMvJHtmdWxsUGF0aH0vLmVtcHR5Rm9sZGVyUGxhY2Vob2xkZXJgLCBwbGFjZWhvbGRlckNvbnRlbnQsIHtcclxuICAgICAgICAgIGNvbnRlbnRUeXBlOiAndGV4dC9wbGFpbicsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBmb2xkZXIgY3JlYXRpb24gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBmb2xkZXIgaW4gU3VwYWJhc2UnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBmb2xkZXI6IHtcclxuICAgICAgICAgIG5hbWU6IGNsZWFuRm9sZGVyTmFtZSxcclxuICAgICAgICAgIHBhdGg6IGB1cGxvYWRzLyR7ZnVsbFBhdGh9YCxcclxuICAgICAgICAgIGZ1bGxQYXRoOiBmdWxsUGF0aCxcclxuICAgICAgICAgIHBhcmVudFBhdGg6IHBhcmVudFBhdGggfHwgJycsXHJcbiAgICAgICAgICBzb3VyY2U6ICdzdXBhYmFzZScsXHJcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIGlzTmVzdGVkOiBCb29sZWFuKHBhcmVudFBhdGgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKHN1cGFiYXNlRXJyb3IpIHtcclxuICAgICAgLy8gRmFsbGJhY2sgdG8gbG9jYWwgZm9sZGVyIGNyZWF0aW9uXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXBsb2Fkc0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3VwbG9hZHMnKTtcclxuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcGF0aC5qb2luKHVwbG9hZHNEaXIsIGZ1bGxQYXRoKTtcclxuXHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGZvbGRlclBhdGgpKSB7XHJcbiAgICAgICAgICBmcy5ta2RpclN5bmMoZm9sZGVyUGF0aCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIGZvbGRlcjoge1xyXG4gICAgICAgICAgICAgIG5hbWU6IGNsZWFuRm9sZGVyTmFtZSxcclxuICAgICAgICAgICAgICBwYXRoOiBgdXBsb2Fkcy8ke2Z1bGxQYXRofWAsXHJcbiAgICAgICAgICAgICAgZnVsbFBhdGg6IGZ1bGxQYXRoLFxyXG4gICAgICAgICAgICAgIHBhcmVudFBhdGg6IHBhcmVudFBhdGggfHwgJycsXHJcbiAgICAgICAgICAgICAgc291cmNlOiAnbG9jYWwnLFxyXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgIGlzTmVzdGVkOiBCb29sZWFuKHBhcmVudFBhdGgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZvbGRlciBhbHJlYWR5IGV4aXN0cycgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGxvY2FsRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdMb2NhbCBmb2xkZXIgY3JlYXRpb24gZXJyb3I6JywgbG9jYWxFcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIGZvbGRlcicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBmb2xkZXI6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8gREVMRVRFIC0g2K3YsNmBINmF2KzZhNivICjZhdi5INiv2LnZhSDYp9mE2YXYrNmE2K/Yp9iqINin2YTZhdiq2K/Yp9iu2YTYqSlcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXE6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcS51cmwpO1xyXG4gICAgY29uc3QgZm9sZGVyUGF0aCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3BhdGgnKTtcclxuXHJcbiAgICBpZiAoIWZvbGRlclBhdGgpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGb2xkZXIgcGF0aCBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBSZWN1cnNpdmVseSBkZWxldGUgYWxsIGZpbGVzIGFuZCBzdWJmb2xkZXJzIGZyb20gU3VwYWJhc2VcclxuICAgICAgY29uc3QgZGVsZXRlUmVjdXJzaXZlbHkgPSBhc3luYyAoY3VycmVudFBhdGg6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBEZWxldGluZyBmb2xkZXI6ICR7Y3VycmVudFBhdGh9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBpdGVtcywgZXJyb3I6IGxpc3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAgICAgLmZyb20oJ2ltYWdlcycpXHJcbiAgICAgICAgICAubGlzdChgdXBsb2Fkcy8ke2N1cnJlbnRQYXRofWAsIHtcclxuICAgICAgICAgICAgbGltaXQ6IDEwMDAsXHJcbiAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobGlzdEVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0aW5nIGZvbGRlciBjb250ZW50czonLCBsaXN0RXJyb3IpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IGZpbGVzVG9EZWxldGU6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICBjb25zdCBmb2xkZXJzVG9EZWxldGU6IHN0cmluZ1tdID0gW107XHJcblxyXG4gICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLm5hbWUpIHtcclxuICAgICAgICAgICAgICBjb25zdCBpdGVtUGF0aCA9IGB1cGxvYWRzLyR7Y3VycmVudFBhdGh9LyR7aXRlbS5uYW1lfWA7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIGZpbGUgKGhhcyBleHRlbnNpb24gb3Igc2l6ZSBtZXRhZGF0YSkgb3IgcGxhY2Vob2xkZXJcclxuICAgICAgICAgICAgICBpZiAoaXRlbS5uYW1lLmluY2x1ZGVzKCcuJykgfHwgaXRlbS5tZXRhZGF0YT8uc2l6ZSAhPT0gdW5kZWZpbmVkIHx8IGl0ZW0ubmFtZSA9PT0gJy5lbXB0eUZvbGRlclBsYWNlaG9sZGVyJykge1xyXG4gICAgICAgICAgICAgICAgZmlsZXNUb0RlbGV0ZS5wdXNoKGl0ZW1QYXRoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBZGRpbmcgZmlsZSB0byBkZWxldGU6ICR7aXRlbVBhdGh9YCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEl0J3MgYSBzdWJmb2xkZXIsIGFkZCB0byByZWN1cnNpdmUgZGVsZXRpb25cclxuICAgICAgICAgICAgICAgIGZvbGRlcnNUb0RlbGV0ZS5wdXNoKGAke2N1cnJlbnRQYXRofS8ke2l0ZW0ubmFtZX1gKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBBZGRpbmcgZm9sZGVyIHRvIGRlbGV0ZTogJHtjdXJyZW50UGF0aH0vJHtpdGVtLm5hbWV9YCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRGVsZXRlIGZpbGVzIGZpcnN0IChpbmNsdWRpbmcgcGxhY2Vob2xkZXIgZmlsZXMpXHJcbiAgICAgICAgICBpZiAoZmlsZXNUb0RlbGV0ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBEZWxldGluZyAke2ZpbGVzVG9EZWxldGUubGVuZ3RofSBmaWxlczpgLCBmaWxlc1RvRGVsZXRlKTtcclxuICAgICAgICAgICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcclxuICAgICAgICAgICAgICAuZnJvbSgnaW1hZ2VzJylcclxuICAgICAgICAgICAgICAucmVtb3ZlKGZpbGVzVG9EZWxldGUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRlbGV0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZmlsZXM6JywgZGVsZXRlRXJyb3IpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGaWxlcyBkZWxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZGVsZXRlIHN1YmZvbGRlcnNcclxuICAgICAgICAgIGZvciAoY29uc3Qgc3ViZm9sZGVyUGF0aCBvZiBmb2xkZXJzVG9EZWxldGUpIHtcclxuICAgICAgICAgICAgYXdhaXQgZGVsZXRlUmVjdXJzaXZlbHkoc3ViZm9sZGVyUGF0aCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBbHNvIHRyeSB0byBkZWxldGUgdGhlIHBsYWNlaG9sZGVyIGZpbGUgZm9yIHRoaXMgZm9sZGVyXHJcbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXJQYXRoID0gYHVwbG9hZHMvJHtjdXJyZW50UGF0aH0vLmVtcHR5Rm9sZGVyUGxhY2Vob2xkZXJgO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBBdHRlbXB0aW5nIHRvIGRlbGV0ZSBwbGFjZWhvbGRlcjogJHtwbGFjZWhvbGRlclBhdGh9YCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgeyBlcnJvcjogcGxhY2Vob2xkZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAgICAgLmZyb20oJ2ltYWdlcycpXHJcbiAgICAgICAgICAucmVtb3ZlKFtwbGFjZWhvbGRlclBhdGhdKTtcclxuXHJcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQbGFjZWhvbGRlciBmaWxlIG5vdCBmb3VuZCBvciBhbHJlYWR5IGRlbGV0ZWQ6JywgcGxhY2Vob2xkZXJFcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQbGFjZWhvbGRlciBmaWxlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXdhaXQgZGVsZXRlUmVjdXJzaXZlbHkoZm9sZGVyUGF0aCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgRm9sZGVyIGRlbGV0aW9uIGNvbXBsZXRlZCBmb3I6ICR7Zm9sZGVyUGF0aH1gKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSwgXHJcbiAgICAgICAgbWVzc2FnZTogYEZvbGRlciAnJHtmb2xkZXJQYXRofScgZGVsZXRlZCBzdWNjZXNzZnVsbHlgIFxyXG4gICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKHN1cGFiYXNlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU3VwYWJhc2UgZGVsZXRpb24gZXJyb3I6Jywgc3VwYWJhc2VFcnJvcik7XHJcbiAgICAgIC8vIEZhbGxiYWNrIHRvIGxvY2FsIGZvbGRlciBkZWxldGlvblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVwbG9hZHNEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICd1cGxvYWRzJyk7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0Rm9sZGVyUGF0aCA9IHBhdGguam9pbih1cGxvYWRzRGlyLCBmb2xkZXJQYXRoKTtcclxuXHJcbiAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmModGFyZ2V0Rm9sZGVyUGF0aCkpIHtcclxuICAgICAgICAgIGZzLnJtU3luYyh0YXJnZXRGb2xkZXJQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSwgZm9yY2U6IHRydWUgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gICAgICB9IGNhdGNoIChsb2NhbEVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTG9jYWwgZm9sZGVyIGRlbGV0aW9uIGVycm9yOicsIGxvY2FsRXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGRlbGV0ZSBmb2xkZXInIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgZm9sZGVyOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3VwYWJhc2UiLCJmcyIsInBhdGgiLCJHRVQiLCJyZXEiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJwYXJlbnRQYXRoIiwiZ2V0IiwiZm9sZGVycyIsImxpc3RQYXRoIiwiZGF0YSIsInN1cGFiYXNlRm9sZGVycyIsImVycm9yIiwic3RvcmFnZSIsImZyb20iLCJsaXN0IiwibGltaXQiLCJvZmZzZXQiLCJmb2xkZXJTZXQiLCJTZXQiLCJpdGVtIiwibmFtZSIsImluY2x1ZGVzIiwibWV0YWRhdGEiLCJzaXplIiwiYWRkIiwiZm9sZGVyTmFtZSIsInNwbGl0IiwiZm9yRWFjaCIsImZ1bGxQYXRoIiwicHVzaCIsInNvdXJjZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImlzTmVzdGVkIiwibGVuZ3RoIiwic3VwYWJhc2VFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJ1cGxvYWRzRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJ0YXJnZXREaXIiLCJleGlzdHNTeW5jIiwiaXRlbXMiLCJyZWFkZGlyU3luYyIsIndpdGhGaWxlVHlwZXMiLCJsb2NhbEZvbGRlcnMiLCJmaWx0ZXIiLCJpc0RpcmVjdG9yeSIsImZvbGRlciIsImV4aXN0aW5nRm9sZGVyIiwiZmluZCIsImYiLCJmb2xkZXJQYXRoIiwic3RhdHMiLCJzdGF0U3luYyIsImJpcnRodGltZSIsImxvY2FsRXJyb3IiLCJzb3J0IiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwianNvbiIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJQT1NUIiwiY2xlYW5Gb2xkZXJOYW1lIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwicGxhY2Vob2xkZXJDb250ZW50IiwiVWludDhBcnJheSIsInVwbG9hZCIsImNvbnRlbnRUeXBlIiwiQm9vbGVhbiIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsIkRFTEVURSIsImRlbGV0ZVJlY3Vyc2l2ZWx5IiwiY3VycmVudFBhdGgiLCJsaXN0RXJyb3IiLCJmaWxlc1RvRGVsZXRlIiwiZm9sZGVyc1RvRGVsZXRlIiwiaXRlbVBhdGgiLCJ1bmRlZmluZWQiLCJkZWxldGVFcnJvciIsInJlbW92ZSIsInN1YmZvbGRlclBhdGgiLCJwbGFjZWhvbGRlclBhdGgiLCJwbGFjZWhvbGRlckVycm9yIiwibWVzc2FnZSIsInRhcmdldEZvbGRlclBhdGgiLCJybVN5bmMiLCJmb3JjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/upload/folders/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/supabase.ts":
/*!*****************************!*\
  !*** ./app/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://ilxfqrxybtcftioizoan.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseGZxcnh5YnRjZnRpb2l6b2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTg5MjMsImV4cCI6MjA2OTQzNDkyM30.Jhjy7136xlqHcVjeCGPDvh4Ofpio3a09Y2fFu2Sqqh0\";\nif (!supabaseUrl || supabaseUrl === \"your-supabase-url\") {\n    console.warn(\"Supabase URL not configured properly. Using fallback configuration.\");\n}\nif (!supabaseAnonKey || supabaseAnonKey === \"your-supabase-anon-key\") {\n    console.warn(\"Supabase Anon Key not configured properly. Using fallback configuration.\");\n}\n// Create client with fallback values for development\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl || \"https://placeholder.supabase.co\", supabaseAnonKey || \"placeholder-key\");\n// Export createClient function for components that need to create their own client\nconst createClient = ()=>{\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl || \"https://placeholder.supabase.co\", supabaseAnonKey || \"placeholder-key\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0RTtBQUU1RSxNQUFNRSxjQUFjQywwQ0FBb0M7QUFDeEQsTUFBTUcsa0JBQWtCSCxrTkFBeUM7QUFFakUsSUFBSSxDQUFDRCxlQUFlQSxnQkFBZ0IscUJBQXFCO0lBQ3ZETSxRQUFRQyxJQUFJLENBQUM7QUFDZjtBQUNBLElBQUksQ0FBQ0gsbUJBQW1CQSxvQkFBb0IsMEJBQTBCO0lBQ3BFRSxRQUFRQyxJQUFJLENBQUM7QUFDZjtBQUVBLHFEQUFxRDtBQUM5QyxNQUFNQyxXQUFXVCxtRUFBb0JBLENBQzFDQyxlQUFlLG1DQUNmSSxtQkFBbUIsbUJBQ3BCO0FBRUQsbUZBQW1GO0FBQzVFLE1BQU1OLGVBQWU7SUFDMUIsT0FBT0MsbUVBQW9CQSxDQUN6QkMsZUFBZSxtQ0FDZkksbUJBQW1CO0FBRXZCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kaXZlbWl4LXdlYnNpdGUvLi9hcHAvbGliL3N1cGFiYXNlLnRzPzhkOTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IGFzIGNyZWF0ZVN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xyXG5cclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkxcclxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVlcclxuXHJcbmlmICghc3VwYWJhc2VVcmwgfHwgc3VwYWJhc2VVcmwgPT09ICd5b3VyLXN1cGFiYXNlLXVybCcpIHtcclxuICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlIFVSTCBub3QgY29uZmlndXJlZCBwcm9wZXJseS4gVXNpbmcgZmFsbGJhY2sgY29uZmlndXJhdGlvbi4nKVxyXG59XHJcbmlmICghc3VwYWJhc2VBbm9uS2V5IHx8IHN1cGFiYXNlQW5vbktleSA9PT0gJ3lvdXItc3VwYWJhc2UtYW5vbi1rZXknKSB7XHJcbiAgY29uc29sZS53YXJuKCdTdXBhYmFzZSBBbm9uIEtleSBub3QgY29uZmlndXJlZCBwcm9wZXJseS4gVXNpbmcgZmFsbGJhY2sgY29uZmlndXJhdGlvbi4nKVxyXG59XHJcblxyXG4vLyBDcmVhdGUgY2xpZW50IHdpdGggZmFsbGJhY2sgdmFsdWVzIGZvciBkZXZlbG9wbWVudFxyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVTdXBhYmFzZUNsaWVudChcclxuICBzdXBhYmFzZVVybCB8fCAnaHR0cHM6Ly9wbGFjZWhvbGRlci5zdXBhYmFzZS5jbycsXHJcbiAgc3VwYWJhc2VBbm9uS2V5IHx8ICdwbGFjZWhvbGRlci1rZXknXHJcbilcclxuXHJcbi8vIEV4cG9ydCBjcmVhdGVDbGllbnQgZnVuY3Rpb24gZm9yIGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIGNyZWF0ZSB0aGVpciBvd24gY2xpZW50XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDbGllbnQgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIGNyZWF0ZVN1cGFiYXNlQ2xpZW50KFxyXG4gICAgc3VwYWJhc2VVcmwgfHwgJ2h0dHBzOi8vcGxhY2Vob2xkZXIuc3VwYWJhc2UuY28nLFxyXG4gICAgc3VwYWJhc2VBbm9uS2V5IHx8ICdwbGFjZWhvbGRlci1rZXknXHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBEYXRhYmFzZSA9IHtcclxuICBwdWJsaWM6IHtcclxuICAgIFRhYmxlczoge1xyXG4gICAgICBwcm9kdWN0czoge1xyXG4gICAgICAgIFJvdzoge1xyXG4gICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBzaG9ydF9kZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBjYXRlZ29yeV9pZDogc3RyaW5nXHJcbiAgICAgICAgICBpbWFnZV91cmw6IHN0cmluZ1xyXG4gICAgICAgICAgaW1hZ2VzOiBzdHJpbmdbXVxyXG4gICAgICAgICAgZmVhdHVyZXM6IHN0cmluZ1tdXHJcbiAgICAgICAgICBpc19hY3RpdmU6IGJvb2xlYW5cclxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IG51bWJlclxyXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgSW5zZXJ0OiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBzaG9ydF9kZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgY2F0ZWdvcnlfaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgaW1hZ2VfdXJsPzogc3RyaW5nXHJcbiAgICAgICAgICBpbWFnZXM/OiBzdHJpbmdbXVxyXG4gICAgICAgICAgZmVhdHVyZXM/OiBzdHJpbmdbXVxyXG4gICAgICAgICAgaXNfYWN0aXZlPzogYm9vbGVhblxyXG4gICAgICAgICAgZGlzcGxheV9vcmRlcj86IG51bWJlclxyXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBVcGRhdGU6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICBuYW1lPzogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgc2hvcnRfZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgICAgICAgIGNhdGVnb3J5X2lkPzogc3RyaW5nXHJcbiAgICAgICAgICBpbWFnZV91cmw/OiBzdHJpbmdcclxuICAgICAgICAgIGltYWdlcz86IHN0cmluZ1tdXHJcbiAgICAgICAgICBmZWF0dXJlcz86IHN0cmluZ1tdXHJcbiAgICAgICAgICBpc19hY3RpdmU/OiBib29sZWFuXHJcbiAgICAgICAgICBkaXNwbGF5X29yZGVyPzogbnVtYmVyXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHByb2R1Y3RfY2F0ZWdvcmllczoge1xyXG4gICAgICAgIFJvdzoge1xyXG4gICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBzbHVnOiBzdHJpbmdcclxuICAgICAgICAgIGltYWdlX3VybDogc3RyaW5nXHJcbiAgICAgICAgICBpc19hY3RpdmU6IGJvb2xlYW5cclxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IG51bWJlclxyXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgSW5zZXJ0OiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgc2x1Zzogc3RyaW5nXHJcbiAgICAgICAgICBpbWFnZV91cmw/OiBzdHJpbmdcclxuICAgICAgICAgIGlzX2FjdGl2ZT86IGJvb2xlYW5cclxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI/OiBudW1iZXJcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgVXBkYXRlOiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgbmFtZT86IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgICAgICAgIHNsdWc/OiBzdHJpbmdcclxuICAgICAgICAgIGltYWdlX3VybD86IHN0cmluZ1xyXG4gICAgICAgICAgaXNfYWN0aXZlPzogYm9vbGVhblxyXG4gICAgICAgICAgZGlzcGxheV9vcmRlcj86IG51bWJlclxyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjYXRlZ29yaWVzOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGhlcm9faW1hZ2U6IHN0cmluZ1xyXG4gICAgICAgICAgaW1hZ2U6IHN0cmluZ1xyXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgSW5zZXJ0OiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBoZXJvX2ltYWdlOiBzdHJpbmdcclxuICAgICAgICAgIGltYWdlOiBzdHJpbmdcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgVXBkYXRlOiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgbmFtZT86IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgICAgICAgIGhlcm9faW1hZ2U/OiBzdHJpbmdcclxuICAgICAgICAgIGltYWdlPzogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHNlcnZpY2VzOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBpY29uOiBzdHJpbmdcclxuICAgICAgICAgIGZlYXR1cmVzOiBzdHJpbmdbXVxyXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgSW5zZXJ0OiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgaWNvbjogc3RyaW5nXHJcbiAgICAgICAgICBmZWF0dXJlcz86IHN0cmluZ1tdXHJcbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVwZGF0ZToge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlPzogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgaWNvbj86IHN0cmluZ1xyXG4gICAgICAgICAgZmVhdHVyZXM/OiBzdHJpbmdbXVxyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhcHBsaWNhdGlvbnM6IHtcclxuICAgICAgICBSb3c6IHtcclxuICAgICAgICAgIGlkOiBzdHJpbmdcclxuICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgZmVhdHVyZXM6IHN0cmluZ1tdXHJcbiAgICAgICAgICBpbWFnZXM6IHN0cmluZ1tdXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBJbnNlcnQ6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGZlYXR1cmVzPzogc3RyaW5nW11cclxuICAgICAgICAgIGltYWdlcz86IHN0cmluZ1tdXHJcbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVwZGF0ZToge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIG5hbWU/OiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nXHJcbiAgICAgICAgICBmZWF0dXJlcz86IHN0cmluZ1tdXHJcbiAgICAgICAgICBpbWFnZXM/OiBzdHJpbmdbXVxyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBuZXdzOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBzdW1tYXJ5OiBzdHJpbmdcclxuICAgICAgICAgIGNvbnRlbnQ6IHN0cmluZ1xyXG4gICAgICAgICAgaW1hZ2VfdXJsOiBzdHJpbmdcclxuICAgICAgICAgIHB1Ymxpc2hlZF9kYXRlOiBzdHJpbmdcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIEluc2VydDoge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlOiBzdHJpbmdcclxuICAgICAgICAgIHN1bW1hcnk6IHN0cmluZ1xyXG4gICAgICAgICAgY29udGVudDogc3RyaW5nXHJcbiAgICAgICAgICBpbWFnZV91cmw6IHN0cmluZ1xyXG4gICAgICAgICAgcHVibGlzaGVkX2RhdGU6IHN0cmluZ1xyXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBVcGRhdGU6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZT86IHN0cmluZ1xyXG4gICAgICAgICAgc3VtbWFyeT86IHN0cmluZ1xyXG4gICAgICAgICAgY29udGVudD86IHN0cmluZ1xyXG4gICAgICAgICAgaW1hZ2VfdXJsPzogc3RyaW5nXHJcbiAgICAgICAgICBwdWJsaXNoZWRfZGF0ZT86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBnYWxsZXJ5X2ltYWdlczoge1xyXG4gICAgICAgIFJvdzoge1xyXG4gICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICAgIGNhdGVnb3J5OiBzdHJpbmdcclxuICAgICAgICAgIGNhdGVnb3J5X2lkOiBzdHJpbmcgfCBudWxsXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBJbnNlcnQ6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICB1cmw6IHN0cmluZ1xyXG4gICAgICAgICAgY2F0ZWdvcnk6IHN0cmluZ1xyXG4gICAgICAgICAgY2F0ZWdvcnlfaWQ/OiBzdHJpbmcgfCBudWxsXHJcbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVwZGF0ZToge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlPzogc3RyaW5nXHJcbiAgICAgICAgICB1cmw/OiBzdHJpbmdcclxuICAgICAgICAgIGNhdGVnb3J5Pzogc3RyaW5nXHJcbiAgICAgICAgICBjYXRlZ29yeV9pZD86IHN0cmluZyB8IG51bGxcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZ2FsbGVyeV9jYXRlZ29yaWVzOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcgfCBudWxsXHJcbiAgICAgICAgICBzbHVnOiBzdHJpbmdcclxuICAgICAgICAgIGRpc3BsYXlfb3JkZXI6IG51bWJlclxyXG4gICAgICAgICAgaXNfYWN0aXZlOiBib29sZWFuXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBJbnNlcnQ6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nIHwgbnVsbFxyXG4gICAgICAgICAgc2x1Zzogc3RyaW5nXHJcbiAgICAgICAgICBkaXNwbGF5X29yZGVyPzogbnVtYmVyXHJcbiAgICAgICAgICBpc19hY3RpdmU/OiBib29sZWFuXHJcbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVwZGF0ZToge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIG5hbWU/OiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nIHwgbnVsbFxyXG4gICAgICAgICAgc2x1Zz86IHN0cmluZ1xyXG4gICAgICAgICAgZGlzcGxheV9vcmRlcj86IG51bWJlclxyXG4gICAgICAgICAgaXNfYWN0aXZlPzogYm9vbGVhblxyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhYm91dF9wYWdlOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBoZXJvX2ltYWdlOiBzdHJpbmdcclxuICAgICAgICAgIHZpc2lvbjogc3RyaW5nXHJcbiAgICAgICAgICBtaXNzaW9uOiBzdHJpbmdcclxuICAgICAgICAgIHZhbHVlczoge1xyXG4gICAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgICAgaWNvbjogc3RyaW5nXHJcbiAgICAgICAgICB9W11cclxuICAgICAgICAgIHRpbWVsaW5lOiB7XHJcbiAgICAgICAgICAgIHllYXI6IHN0cmluZ1xyXG4gICAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIH1bXVxyXG4gICAgICAgICAgY29tcGFueV9vdmVydmlldzogc3RyaW5nXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBJbnNlcnQ6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBoZXJvX2ltYWdlOiBzdHJpbmdcclxuICAgICAgICAgIHZpc2lvbjogc3RyaW5nXHJcbiAgICAgICAgICBtaXNzaW9uOiBzdHJpbmdcclxuICAgICAgICAgIHZhbHVlczoge1xyXG4gICAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgICAgaWNvbjogc3RyaW5nXHJcbiAgICAgICAgICB9W11cclxuICAgICAgICAgIHRpbWVsaW5lOiB7XHJcbiAgICAgICAgICAgIHllYXI6IHN0cmluZ1xyXG4gICAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIH1bXVxyXG4gICAgICAgICAgY29tcGFueV9vdmVydmlldzogc3RyaW5nXHJcbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVwZGF0ZToge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlPzogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgaGVyb19pbWFnZT86IHN0cmluZ1xyXG4gICAgICAgICAgdmlzaW9uPzogc3RyaW5nXHJcbiAgICAgICAgICBtaXNzaW9uPzogc3RyaW5nXHJcbiAgICAgICAgICB2YWx1ZXM/OiB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBzdHJpbmdcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgICBpY29uOiBzdHJpbmdcclxuICAgICAgICAgIH1bXVxyXG4gICAgICAgICAgdGltZWxpbmU/OiB7XHJcbiAgICAgICAgICAgIHllYXI6IHN0cmluZ1xyXG4gICAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIH1bXVxyXG4gICAgICAgICAgY29tcGFueV9vdmVydmlldz86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjb250YWN0X3BhZ2U6IHtcclxuICAgICAgICBSb3c6IHtcclxuICAgICAgICAgIGlkOiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlOiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGhlcm9faW1hZ2U6IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgYnJhbmNoZXM6IHtcclxuICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGFkZHJlc3M6IHN0cmluZ1xyXG4gICAgICAgICAgICBwaG9uZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGVtYWlsOiBzdHJpbmdcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHtcclxuICAgICAgICAgICAgICBsYXQ6IG51bWJlclxyXG4gICAgICAgICAgICAgIGxuZzogbnVtYmVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1bXVxyXG4gICAgICAgICAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgSW5zZXJ0OiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgaGVyb19pbWFnZTogc3RyaW5nXHJcbiAgICAgICAgICBpbnRyb190aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBpbnRyb19kZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBicmFuY2hlczoge1xyXG4gICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgICAgYWRkcmVzczogc3RyaW5nXHJcbiAgICAgICAgICAgIHBob25lOiBzdHJpbmdcclxuICAgICAgICAgICAgZW1haWw6IHN0cmluZ1xyXG4gICAgICAgICAgICBjb29yZGluYXRlczoge1xyXG4gICAgICAgICAgICAgIGxhdDogbnVtYmVyXHJcbiAgICAgICAgICAgICAgbG5nOiBudW1iZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVtdXHJcbiAgICAgICAgICBjcmVhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgICB1cGRhdGVkX2F0Pzogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVwZGF0ZToge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlPzogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgaGVyb19pbWFnZT86IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fdGl0bGU/OiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX2Rlc2NyaXB0aW9uPzogc3RyaW5nXHJcbiAgICAgICAgICBicmFuY2hlcz86IHtcclxuICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGFkZHJlc3M6IHN0cmluZ1xyXG4gICAgICAgICAgICBwaG9uZTogc3RyaW5nXHJcbiAgICAgICAgICAgIGVtYWlsOiBzdHJpbmdcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IHtcclxuICAgICAgICAgICAgICBsYXQ6IG51bWJlclxyXG4gICAgICAgICAgICAgIGxuZzogbnVtYmVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1bXVxyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBwcm9kdWN0c19wYWdlOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBoZXJvX2ltYWdlOiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX3RpdGxlOiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX2Rlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIEluc2VydDoge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlOiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGhlcm9faW1hZ2U6IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBVcGRhdGU6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZT86IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgICAgICAgIGhlcm9faW1hZ2U/OiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX3RpdGxlPzogc3RyaW5nXHJcbiAgICAgICAgICBpbnRyb19kZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBzZXJ2aWNlc19wYWdlOiB7XHJcbiAgICAgICAgUm93OiB7XHJcbiAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBoZXJvX2ltYWdlOiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX3RpdGxlOiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX2Rlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIEluc2VydDoge1xyXG4gICAgICAgICAgaWQ/OiBzdHJpbmdcclxuICAgICAgICAgIHRpdGxlOiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGhlcm9faW1hZ2U6IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgY3JlYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBVcGRhdGU6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZT86IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgICAgICAgIGhlcm9faW1hZ2U/OiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX3RpdGxlPzogc3RyaW5nXHJcbiAgICAgICAgICBpbnRyb19kZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgICAgICAgdXBkYXRlZF9hdD86IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBhcHBsaWNhdGlvbnNfcGFnZToge1xyXG4gICAgICAgIFJvdzoge1xyXG4gICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgICAgICAgaGVyb19pbWFnZTogc3RyaW5nXHJcbiAgICAgICAgICBpbnRyb190aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBpbnRyb19kZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBJbnNlcnQ6IHtcclxuICAgICAgICAgIGlkPzogc3RyaW5nXHJcbiAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICBoZXJvX2ltYWdlOiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX3RpdGxlOiBzdHJpbmdcclxuICAgICAgICAgIGludHJvX2Rlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgVXBkYXRlOiB7XHJcbiAgICAgICAgICBpZD86IHN0cmluZ1xyXG4gICAgICAgICAgdGl0bGU/OiBzdHJpbmdcclxuICAgICAgICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nXHJcbiAgICAgICAgICBoZXJvX2ltYWdlPzogc3RyaW5nXHJcbiAgICAgICAgICBpbnRyb190aXRsZT86IHN0cmluZ1xyXG4gICAgICAgICAgaW50cm9fZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ/OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50IiwiY3JlYXRlU3VwYWJhc2VDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvbnNvbGUiLCJ3YXJuIiwic3VwYWJhc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fupload%2Ffolders%2Froute&page=%2Fapi%2Fupload%2Ffolders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fupload%2Ffolders%2Froute.ts&appDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CRamy%5CRTS%5CReactJS%5Cdivemix-website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();