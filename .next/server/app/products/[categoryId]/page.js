(()=>{var e={};e.id=5737,e.ids=[5737],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},25202:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(28164),s(11506),s(35866);var a=s(23191),r=s(88716),l=s(37922),i=s.n(l),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["products",{children:["[categoryId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,28164)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\products\\[categoryId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\products\\[categoryId]\\page.tsx"],x="/products/[categoryId]/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/products/[categoryId]/page",pathname:"/products/[categoryId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},72975:(e,t,s)=>{Promise.resolve().then(s.bind(s,67512)),Promise.resolve().then(s.bind(s,21211)),Promise.resolve().then(s.bind(s,23274)),Promise.resolve().then(s.bind(s,51018))},80173:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(10326);s(17577);let r=({message:e="Loading...",size:t="md",variant:s="spinner"})=>{let r={sm:"h-8 w-8",md:"h-16 w-16",lg:"h-24 w-24"},l=()=>(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:`${r[t]} animate-spin rounded-full border-4 border-cyan-100 border-t-cyan-600 mx-auto`}),a.jsx("div",{className:`absolute inset-0 ${r[t]} rounded-full border-4 border-transparent border-r-cyan-300 animate-pulse mx-auto`})]}),i=()=>a.jsx("div",{className:"flex space-x-2",children:[0,1,2].map(e=>a.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full animate-bounce",style:{animationDelay:`${.1*e}s`}},e))}),n=()=>(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:`${r[t]} bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full animate-pulse mx-auto`}),a.jsx("div",{className:`absolute inset-0 ${r[t]} bg-cyan-400 rounded-full animate-ping opacity-75 mx-auto`})]});return a.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(()=>{switch(s){case"dots":return a.jsx(i,{});case"pulse":return a.jsx(n,{});default:return a.jsx(l,{})}})(),a.jsx("p",{className:"text-gray-600 font-medium animate-pulse",children:e}),a.jsx("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(e=>a.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full animate-pulse",style:{animationDelay:`${.2*e}s`}},e))})]})})}},69951:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var a=s(10326);s(17577);var r=s(88307);let l=(0,s(76557).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),i=({showBackToTop:e=!0,onBackToTop:t,onScrollToSearch:s,className:i=""})=>(0,a.jsxs)("div",{className:`fixed bottom-6 right-6 z-50 flex flex-col space-y-3 ${i}`,children:[a.jsx("button",{onClick:()=>{let e=document.querySelector("[data-search]");e&&e.scrollIntoView({behavior:"smooth"}),s?.()},className:"group w-12 h-12 bg-white shadow-lg hover:shadow-xl rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 border border-gray-200 hover:border-cyan-300",title:"Go to search",children:a.jsx(r.Z,{className:"w-5 h-5 text-gray-600 group-hover:text-cyan-600 transition-colors duration-300"})}),e&&a.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),t?.()},className:"group w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-600 shadow-lg hover:shadow-xl rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 hover:from-cyan-600 hover:to-blue-700",title:"Back to top",children:a.jsx(l,{className:"w-5 h-5 text-white group-hover:animate-bounce"})})]})},3389:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(10326),r=s(17577);let l=({count:e,label:t,icon:s,suffix:l="",duration:i=2e3})=>{let[n,o]=(0,r.useState)(0),[c,d]=(0,r.useState)(!1),x=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{e.isIntersecting&&!c&&d(!0)},{threshold:.1});return x.current&&e.observe(x.current),()=>e.disconnect()},[c]),(0,r.useEffect)(()=>{if(!c)return;let t=Date.now(),s=()=>{let a=Math.min((Date.now()-t)/i,1);o(Math.floor(0+(e-0)*(1-Math.pow(1-a,4)))),a<1&&requestAnimationFrame(s)};requestAnimationFrame(s)},[c,e,i]),(0,a.jsxs)("div",{ref:x,className:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-gray-100 hover:border-cyan-200 transition-all duration-300 group hover:shadow-lg",children:[s&&a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx("div",{className:"w-8 h-8 text-cyan-600 group-hover:text-cyan-700 transition-colors duration-300 group-hover:scale-110 transform transition-transform",children:s})}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-900 group-hover:text-cyan-700 transition-colors duration-300",children:[n.toLocaleString(),l]}),a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:t})]})}},51018:(e,t,s)=>{"use strict";s.d(t,{default:()=>G});var a=s(10326),r=s(86333),l=s(35047),i=s(17577),n=s.n(i),o=s(99060),c=s(46226),d=s(76557);let x=(0,d.Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),u=(0,d.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var h=s(39183),m=s(94019);let g=({images:e,alt:t,className:s=""})=>{let[r,l]=(0,i.useState)(0),[n,o]=(0,i.useState)(!1),d=e&&e.length>0?e:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=800"],g=e=>{e?.stopPropagation(),l(e=>(e+1)%d.length)},y=e=>{e?.stopPropagation(),l(e=>(e-1+d.length)%d.length)},p=()=>{o(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:`relative w-full h-full group/gallery ${s}`,children:[(0,a.jsxs)("div",{className:"relative w-full h-full overflow-hidden rounded-lg",children:[a.jsx(c.default,{src:d[r],alt:`${t} - Image ${r+1}`,fill:!0,className:"object-cover transition-transform duration-500 group-hover/gallery:scale-105",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),a.jsx("button",{onClick:e=>{e?.stopPropagation(),o(!0)},className:"absolute top-4 left-4 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center opacity-0 group-hover/gallery:opacity-100 transition-all duration-300 hover:bg-black/70 hover:scale-110",children:a.jsx(x,{className:"w-5 h-5"})}),d.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:y,className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center opacity-0 group-hover/gallery:opacity-100 transition-all duration-300 hover:bg-black/70 hover:scale-110",children:a.jsx(u,{className:"w-5 h-5"})}),a.jsx("button",{onClick:g,className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center opacity-0 group-hover/gallery:opacity-100 transition-all duration-300 hover:bg-black/70 hover:scale-110",children:a.jsx(h.Z,{className:"w-5 h-5"})})]}),d.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:d.map((e,t)=>a.jsx("button",{onClick:e=>{e.stopPropagation(),l(t)},className:`w-2 h-2 rounded-full transition-all duration-200 ${t===r?"bg-white scale-125 shadow-lg":"bg-white/60 hover:bg-white/80"}`},t))})]}),d.length>1&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 opacity-0 group-hover/gallery:opacity-100 transition-opacity duration-300",children:a.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:d.map((e,s)=>a.jsx("button",{onClick:e=>{e.stopPropagation(),l(s)},className:`flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden border-2 transition-all duration-200 ${s===r?"border-white scale-110":"border-white/50 hover:border-white/80"}`,children:a.jsx(c.default,{src:e,alt:`${t} thumbnail ${s+1}`,width:48,height:48,className:"object-cover w-full h-full"})},s))})})]}),n&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center",children:[a.jsx("button",{onClick:p,className:"absolute top-4 right-4 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors duration-200 z-10",children:a.jsx(m.Z,{className:"w-6 h-6"})}),d.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:y,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors duration-200 z-10",children:a.jsx(u,{className:"w-6 h-6"})}),a.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors duration-200 z-10",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"relative max-w-[90vw] max-h-[90vh] w-full h-full flex items-center justify-center",children:a.jsx(c.default,{src:d[r],alt:`${t} - Zoomed view`,fill:!0,className:"object-contain",sizes:"90vw"})}),d.length>1&&(0,a.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full text-sm",children:[r+1," / ",d.length]}),a.jsx("div",{className:"absolute inset-0 -z-10",onClick:p})]})]})};var y=s(90214),p=s(33734),f=s(12714),b=s(96633),j=s(941);let v=({product:e,viewMode:t="list",index:s=0,onViewDetails:r})=>{let[l,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!1);return"grid"===t?a.jsx(y.Z,{animation:"slideUp",delay:.1*s,children:(0,a.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-100 hover:border-cyan-200 relative card-enhanced h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"aspect-[4/3] relative overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 flex-shrink-0",children:[a.jsx(g,{images:e.images,alt:e.name}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"absolute bottom-4 left-4 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:a.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:a.jsx("span",{className:"text-xs font-semibold text-gray-800",children:"Product"})})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-4 flex-grow flex flex-col",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-cyan-700 transition-colors duration-300 line-clamp-2",children:e.name})}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("p",{className:"text-gray-600 leading-relaxed line-clamp-3",children:e.short_description})}),a.jsx("div",{className:"flex-grow space-y-4",children:e.features.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-gray-800 flex items-center",children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2 text-cyan-600"}),"Key Features"]}),(0,a.jsxs)("ul",{className:"space-y-1",children:[e.features.slice(0,3).map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start text-sm",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full mt-1.5 mr-3 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 line-clamp-1",children:e})]},t)),e.features.length>3&&(0,a.jsxs)("li",{className:"text-sm text-cyan-600 font-medium",children:["+",e.features.length-3," more features"]})]})]})}),a.jsx("div",{className:"flex-shrink-0 pt-4",children:(0,a.jsxs)("button",{onClick:()=>r?.(e),className:"w-full bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-lg font-medium hover:from-cyan-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[a.jsx(f.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})})]}),a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-cyan-100/30 to-transparent rounded-full -translate-y-10 translate-x-10 group-hover:scale-150 transition-transform duration-700"})]})}):a.jsx(y.Z,{animation:"slideUp",delay:.1*s,children:(0,a.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 p-8 border border-gray-100 hover:border-cyan-200 relative overflow-hidden card-enhanced",children:[a.jsx("div",{className:"absolute inset-0 pattern-dots opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsx("div",{className:"relative z-10",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("div",{className:"w-full lg:w-2/5 xl:w-1/3",children:(0,a.jsxs)("div",{className:"aspect-square relative rounded-2xl overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100 shadow-lg group-hover:shadow-xl transition-shadow duration-300",children:[a.jsx(g,{images:e.images,alt:e.name}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})," "]})}),(0,a.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-3xl font-bold text-gray-900 group-hover:text-cyan-700 transition-colors duration-300",children:e.name}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:`text-gray-600 text-lg leading-relaxed transition-all duration-300 ${o?"":"line-clamp-3"}`,children:e.description}),e.description.length>200&&(0,a.jsxs)("button",{onClick:()=>c(!o),className:"text-cyan-600 hover:text-cyan-700 font-medium text-sm flex items-center space-x-1 transition-colors duration-200",children:[a.jsx("span",{children:o?"Show Less":"Read More"}),o?a.jsx(b.Z,{className:"w-4 h-4"}):a.jsx(j.Z,{className:"w-4 h-4"})]})]})]}),e.features.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h4",{className:"text-xl font-bold text-gray-900 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:a.jsx(p.Z,{className:"w-5 h-5 text-white"})}),"Key Features"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.features.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start group/feature",children:[(0,a.jsxs)("div",{className:"relative mt-2 mr-4",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full group-hover/feature:scale-125 transition-transform duration-200"}),a.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-cyan-400 rounded-full animate-ping opacity-0 group-hover/feature:opacity-75"})]}),a.jsx("span",{className:"text-gray-700 leading-relaxed group-hover/feature:text-gray-900 transition-colors duration-200",children:e})]},t))})]}),a.jsx("div",{className:"flex flex-wrap gap-3 pt-4",children:(0,a.jsxs)("button",{onClick:()=>r?.(e),className:"btn-enhanced bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-cyan-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[a.jsx(f.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"View Details"})]})})]})]})}),a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-cyan-100/20 to-transparent rounded-full -translate-y-16 translate-x-16 group-hover:scale-150 transition-transform duration-700"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-100/20 to-transparent rounded-full translate-y-12 -translate-x-12 group-hover:scale-150 transition-transform duration-700"})]})})};var w=s(30112),N=s(87628);let k=({products:e})=>{let{searchTerm:t,setSearchTerm:s,filteredItems:r}=(0,N.R)(e,["name","description"]);return a.jsx(y.Z,{animation:"fadeIn",children:(0,a.jsxs)("div",{children:[a.jsx(w.Z,{value:t,onChange:s,placeholder:"Search products..."}),r.length>0?a.jsx("div",{className:"space-y-8",children:r.map(e=>a.jsx(v,{product:e},e.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your search."})})]})})},Z=({category:e})=>{if(!e)return a.jsx("div",{className:"relative bg-cyan-900 text-white",children:a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:a.jsx("div",{className:"flex flex-col md:flex-row items-center gap-12",children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Loading Category..."}),a.jsx("p",{className:"text-xl text-cyan-100 leading-relaxed max-w-2xl",children:"Please wait while we load the category information."})]})})})});let t=e.image_url||"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=2000",s=e.name||"Unknown Category",r=e.description||"No description available";return(0,a.jsxs)("div",{className:"relative bg-cyan-900 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0",children:a.jsx(c.default,{src:t,alt:s,fill:!0,className:"object-cover opacity-50",priority:!0})}),a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:a.jsx("div",{className:"flex flex-col md:flex-row items-center gap-12",children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:s}),a.jsx("p",{className:"text-xl text-cyan-100 leading-relaxed max-w-2xl",children:r})]})})})]})},C=({categoryId:e})=>{let t=(0,l.useRouter)(),[s,n]=(0,i.useState)(null),[c,d]=(0,i.useState)([]),[x,u]=(0,i.useState)(!0);(0,i.useEffect)(()=>{h()},[e]);let h=async()=>{try{let[t,s]=await Promise.all([o.O.from("product_categories").select("*").eq("id",e).single(),o.O.from("products").select("*").eq("category_id",e).eq("is_active",!0).order("display_order",{ascending:!0})]);t.error?(console.error("Error fetching category:",t.error),n(null)):n(t.data),s.error?(console.error("Error fetching products:",s.error),d([])):d(s.data||[])}catch(e){console.error("Error:",e),n(null),d([])}finally{u(!1)}};return x?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):s?(0,a.jsxs)("div",{children:[a.jsx(Z,{category:s}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx("button",{onClick:()=>t.push("/products"),className:"flex items-center justify-center w-10 h-10 rounded-full bg-cyan-50 text-cyan-600 hover:bg-cyan-100 transition-colors",children:a.jsx(r.Z,{className:"h-5 w-5"})}),a.jsx("span",{className:"text-gray-600",children:"Back to categories"})]}),a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Demo Mode"}),a.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:a.jsx("p",{children:"You're viewing demo products. Database connection is not available."})})]})]})}),a.jsx(k,{products:c})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Category not found"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-8",children:['The category "',e,'" could not be found.']}),a.jsx("button",{onClick:()=>t.push("/products"),className:"bg-cyan-600 text-white px-6 py-3 rounded-lg hover:bg-cyan-700 transition-colors",children:"Back to Products"})]})})};var S=s(80173),_=s(3389),q=s(69951),P=s(3634);let z=({product:e,isOpen:t,onClose:s})=>{let[r,l]=(0,i.useState)(0),[n,o]=(0,i.useState)(!1),[d,g]=(0,i.useState)(!1);if((0,i.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,s]),!t||!e)return null;let f=e.images&&e.images.length>0?e.images:e.image_url?[e.image_url]:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=800"],b=()=>{l(e=>e===f.length-1?0:e+1)},j=()=>{l(e=>0===e?f.length-1:e-1)};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:s}),a.jsx(y.Z,{animation:"fadeIn",children:(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[a.jsx("div",{className:"absolute top-4 right-4 z-10 flex space-x-2",children:a.jsx("button",{onClick:s,className:"w-12 h-12 bg-white/90 text-gray-600 rounded-full flex items-center justify-center hover:bg-white hover:text-gray-900 transition-all duration-200 shadow-lg",children:a.jsx(m.Z,{className:"w-6 h-6"})})}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row max-h-[90vh]",children:[(0,a.jsxs)("div",{className:"lg:w-1/2 relative bg-gradient-to-br from-gray-50 to-gray-100",children:[(0,a.jsxs)("div",{className:"aspect-square relative group/image",children:[a.jsx(c.default,{src:f[r],alt:e.name,fill:!0,className:"object-contain cursor-zoom-in",sizes:"50vw",onClick:()=>g(!0)}),a.jsx("div",{className:"absolute top-4 left-4 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center opacity-0 group-hover/image:opacity-100 transition-opacity duration-300",children:a.jsx(x,{className:"w-5 h-5"})}),f.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/90 rounded-full flex items-center justify-center text-gray-700 hover:bg-white hover:text-gray-900 transition-all duration-200 shadow-lg",children:a.jsx(u,{className:"w-6 h-6"})}),a.jsx("button",{onClick:b,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/90 rounded-full flex items-center justify-center text-gray-700 hover:bg-white hover:text-gray-900 transition-all duration-200 shadow-lg",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),f.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:f.map((e,t)=>a.jsx("button",{onClick:()=>l(t),className:`w-3 h-3 rounded-full transition-all duration-200 ${t===r?"bg-white scale-125 shadow-lg":"bg-white/60 hover:bg-white/80"}`},t))})]}),f.length>1&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white/90 backdrop-blur-sm p-4",children:a.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:f.map((t,s)=>a.jsx("button",{onClick:()=>l(s),className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-200 ${s===r?"border-cyan-500 scale-110":"border-gray-200 hover:border-gray-300"}`,children:a.jsx(c.default,{src:t,alt:`${e.name} ${s+1}`,width:64,height:64,className:"object-cover w-full h-full"})},s))})})]}),a.jsx("div",{className:"lg:w-1/2 p-8 overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center space-x-3",children:e.features&&e.features.length>0&&(0,a.jsxs)("div",{className:"bg-gray-100 text-gray-700 rounded-full px-3 py-1 text-sm font-semibold",children:[e.features.length," Features"]})}),a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:e.name})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Description"}),a.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:e.description})]}),e.features&&e.features.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:a.jsx(p.Z,{className:"w-5 h-5 text-white"})}),"Key Features"]}),a.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.features.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start group/feature p-3 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:[a.jsx("div",{className:"relative mt-1 mr-4",children:a.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full flex items-center justify-center group-hover/feature:scale-110 transition-transform duration-200",children:a.jsx(P.Z,{className:"w-3 h-3 text-white"})})}),a.jsx("span",{className:"text-gray-700 leading-relaxed group-hover/feature:text-gray-900 transition-colors duration-200 flex-1",children:e})]},t))})]})]})})]})]})}),d&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[60] bg-black/95 flex items-center justify-center",children:[a.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors duration-200 z-10",children:a.jsx(m.Z,{className:"w-6 h-6"})}),f.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:j,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors duration-200 z-10",children:a.jsx(u,{className:"w-6 h-6"})}),a.jsx("button",{onClick:b,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 text-white rounded-full flex items-center justify-center hover:bg-white/30 transition-colors duration-200 z-10",children:a.jsx(h.Z,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"relative max-w-[95vw] max-h-[95vh] w-full h-full flex items-center justify-center",children:a.jsx(c.default,{src:f[r],alt:`${e.name} - Full size`,fill:!0,className:"object-contain",sizes:"95vw"})}),f.length>1&&(0,a.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full text-sm",children:[r+1," / ",f.length]}),a.jsx("div",{className:"absolute inset-0 -z-10",onClick:()=>g(!1)})]})]})},$=(0,d.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),M=({features:e,onFilterChange:t,className:s=""})=>{let[r,l]=(0,i.useState)(!1),[n,o]=(0,i.useState)([]),c=e.reduce((e,t)=>{let s=e.find(e=>e.id===t);return s?s.count++:e.push({id:t,label:t,count:1}),e},[]).sort((e,t)=>t.count-e.count),d=e=>{let s=n.includes(e)?n.filter(t=>t!==e):[...n,e];o(s),t(s)},x=()=>{o([]),t([])};return 0===c.length?null:(0,a.jsxs)("div",{className:`bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden ${s}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>l(!r),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center",children:a.jsx($,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Filter by Features"}),n.length>0&&(0,a.jsxs)("p",{className:"text-sm text-cyan-600",children:[n.length," filters active"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[n.length>0&&a.jsx("button",{onClick:e=>{e.stopPropagation(),x()},className:"text-sm text-gray-500 hover:text-red-500 transition-colors duration-200",children:"Clear all"}),r?a.jsx(b.Z,{className:"w-5 h-5 text-gray-400"}):a.jsx(j.Z,{className:"w-5 h-5 text-gray-400"})]})]}),r&&a.jsx(y.Z,{animation:"slideUp",children:a.jsx("div",{className:"px-4 pb-4 space-y-3 max-h-64 overflow-y-auto",children:c.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer group transition-colors duration-200",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:n.includes(e.id),onChange:()=>d(e.id),className:"sr-only"}),a.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-200 ${n.includes(e.id)?"bg-gradient-to-r from-cyan-500 to-blue-600 border-cyan-500":"border-gray-300 group-hover:border-cyan-400"}`,children:n.includes(e.id)&&a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),(0,a.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[a.jsx("span",{className:`text-sm transition-colors duration-200 ${n.includes(e.id)?"text-cyan-700 font-medium":"text-gray-700 group-hover:text-gray-900"}`,children:e.label}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full transition-colors duration-200 ${n.includes(e.id)?"bg-cyan-100 text-cyan-700":"bg-gray-100 text-gray-500 group-hover:bg-gray-200"}`,children:e.count})]})]},e.id))})}),n.length>0&&a.jsx("div",{className:"px-4 pb-4 border-t border-gray-100",children:a.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:n.map(e=>{let t=c.find(t=>t.id===e);return t?(0,a.jsxs)("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700 px-3 py-1 rounded-full text-sm border border-cyan-200",children:[a.jsx("span",{children:t.label}),a.jsx("button",{onClick:()=>d(e),className:"w-4 h-4 rounded-full bg-cyan-200 hover:bg-cyan-300 flex items-center justify-center transition-colors duration-200",children:a.jsx(m.Z,{className:"w-3 h-3"})})]},e):null})})})]})};var F=s(17069),I=s(997),R=s(53468);let D=({products:e,className:t=""})=>{if(0===e.length)return null;let s=e.reduce((e,t)=>e+(t.features?.length||0),0),r=Math.round(s/e.length),l=e.reduce((e,t)=>(t.features?.length||0)>(e.features?.length||0)?t:e),i=new Set(e.flatMap(e=>e.features||[])).size;return a.jsx("div",{className:`bg-gradient-to-br from-cyan-50 to-blue-50 rounded-2xl p-6 border border-cyan-100 ${t}`,children:a.jsx(y.Z,{animation:"fadeIn",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center space-y-2",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl flex items-center justify-center mx-auto",children:a.jsx(F.Z,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Product Insights"}),a.jsx("p",{className:"text-gray-600",children:"Discover what makes our products special"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 text-center border border-white/50 hover:border-cyan-200 transition-colors duration-300",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:a.jsx(I.Z,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Features"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 text-center border border-white/50 hover:border-cyan-200 transition-colors duration-300",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:a.jsx(P.Z,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx("div",{className:"text-sm text-gray-600",children:"Avg per Product"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 text-center border border-white/50 hover:border-cyan-200 transition-colors duration-300",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:a.jsx(R.Z,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i}),a.jsx("div",{className:"text-sm text-gray-600",children:"Unique Features"})]}),(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 text-center border border-white/50 hover:border-cyan-200 transition-colors duration-300",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mx-auto mb-2",children:a.jsx(F.Z,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.features?.length||0}),a.jsx("div",{className:"text-sm text-gray-600",children:"Max Features"})]})]}),l.features&&l.features.length>0&&(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-white/50",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center",children:a.jsx(I.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Most Featured Product"}),a.jsx("p",{className:"text-sm text-gray-600",children:l.name})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[l.features.slice(0,5).map((e,t)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-cyan-100 to-blue-100 text-cyan-700 border border-cyan-200",children:e.length>15?`${e.substring(0,15)}...`:e},t)),l.features.length>5&&(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["+",l.features.length-5," more"]})]})]})]})})})};var E=s(49216);let L=({currentPage:e,totalPages:t,onPageChange:s,itemsPerPage:r,totalItems:l,className:i=""})=>{if(t<=1)return null;let o=Math.min(e*r,l),c=(()=>{let s=[],a=[];for(let a=Math.max(2,e-2);a<=Math.min(t-1,e+2);a++)s.push(a);return e-2>2?a.push(1,"..."):a.push(1),a.push(...s),e+2<t-1?a.push("...",t):t>1&&a.push(t),a})();return(0,a.jsxs)("div",{className:`flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 ${i}`,children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-medium text-gray-900",children:(e-1)*r+1})," to"," ",a.jsx("span",{className:"font-medium text-gray-900",children:o})," of"," ",a.jsx("span",{className:"font-medium text-gray-900",children:l})," products"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>s(e-1),disabled:1===e,className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-all duration-200 ${1===e?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-600 hover:border-cyan-300 hover:text-cyan-600 hover:bg-cyan-50"}`,children:a.jsx(u,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex items-center space-x-1",children:c.map((t,r)=>a.jsx(n().Fragment,{children:"..."===t?a.jsx("div",{className:"flex items-center justify-center w-10 h-10",children:a.jsx(E.Z,{className:"w-5 h-5 text-gray-400"})}):a.jsx("button",{onClick:()=>s(t),className:`flex items-center justify-center w-10 h-10 rounded-lg border font-medium transition-all duration-200 ${e===t?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white border-cyan-500 shadow-lg":"border-gray-300 text-gray-600 hover:border-cyan-300 hover:text-cyan-600 hover:bg-cyan-50"}`,children:t})},r))}),a.jsx("button",{onClick:()=>s(e+1),disabled:e===t,className:`flex items-center justify-center w-10 h-10 rounded-lg border transition-all duration-200 ${e===t?"border-gray-200 text-gray-400 cursor-not-allowed":"border-gray-300 text-gray-600 hover:border-cyan-300 hover:text-cyan-600 hover:bg-cyan-50"}`,children:a.jsx(h.Z,{className:"w-5 h-5"})})]})]})};var A=s(48705),T=s(88307);let U=(0,d.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var O=s(924);let B=({categoryId:e})=>{let[t,s]=(0,i.useState)([]),[r,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(null),[x,u]=(0,i.useState)("list"),[h,m]=(0,i.useState)("order"),[g,p]=(0,i.useState)(null),[f,b]=(0,i.useState)(null),[j,k]=(0,i.useState)(!1),[Z,C]=(0,i.useState)([]),[P,F]=(0,i.useState)(1),[I]=(0,i.useState)(6),{searchTerm:R,setSearchTerm:E,filteredItems:B}=(0,N.R)(t,["name","description"]),G=(0,i.useCallback)(async()=>{try{d(null);let{data:t,error:a}=await o.O.from("product_categories").select("id, slug, name, description").eq("slug",e).single();if(a||!t){console.log("Category not found in database:",a),d("Category not found"),s([]),l(!1);return}p({name:t.name,description:t.description});let{data:r,error:i}=await o.O.from("products").select("*").eq("category_id",t.id).eq("is_active",!0).order("display_order",{ascending:!0});if(i)throw i;s(r||[]),r&&0!==r.length||console.log("No products found for category:",e)}catch(e){console.error("Error fetching products:",e),d(e.message),s([])}finally{l(!1)}},[e]);(0,i.useEffect)(()=>{G()},[G]);let V=[...Z.length>0?B.filter(e=>Z.some(t=>e.features?.some(e=>e.includes(t)))):B].sort((e,t)=>"name"===h?e.name.localeCompare(t.name):e.display_order-t.display_order),J=t.reduce((e,t)=>(t.features&&e.push(...t.features),e),[]),H=Math.ceil(V.length/I),K=(P-1)*I,X=V.slice(K,K+I);n().useEffect(()=>{F(1)},[R,Z]);let Y=e=>{b(e),k(!0)};return r?a.jsx(S.Z,{message:"Loading products...",variant:"dots",size:"lg"}):(0,a.jsxs)("div",{className:"space-y-8",children:[t.length>0&&a.jsx(y.Z,{animation:"slideUp",delay:.1,children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[a.jsx(_.Z,{count:t.length,label:"Total Products",icon:a.jsx(A.Z,{className:"w-full h-full"})}),a.jsx(_.Z,{count:V.length,label:"Showing",icon:a.jsx(T.Z,{className:"w-full h-full"})}),a.jsx(_.Z,{count:t.reduce((e,t)=>e+(t.features?.length||0),0),label:"Features",icon:a.jsx($,{className:"w-full h-full"})})]})}),t.length>0&&a.jsx(y.Z,{animation:"slideUp",delay:.2,children:a.jsx(D,{products:t})}),a.jsx(y.Z,{animation:"slideUp",delay:.15,children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"max-w-md mx-auto","data-search":!0,children:a.jsx(w.Z,{value:R,onChange:E,placeholder:"Search products..."})}),J.length>0&&a.jsx(M,{features:J,onFilterChange:C}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-white rounded-lg p-1 shadow-sm border border-gray-200",children:[(0,a.jsxs)("button",{onClick:()=>u("list"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ${"list"===x?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(U,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"List"})]}),(0,a.jsxs)("button",{onClick:()=>u("grid"),className:`flex items-center space-x-2 px-4 py-2 rounded-md transition-all duration-200 ${"grid"===x?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[a.jsx(O.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Grid"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Sort by:"}),(0,a.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:border-cyan-500 focus:ring-2 focus:ring-cyan-200 transition-colors bg-white",children:[a.jsx("option",{value:"order",children:"Display Order"}),a.jsx("option",{value:"name",children:"Name (A-Z)"})]})]})]})]})}),a.jsx(y.Z,{animation:"fadeIn",delay:.2,children:X.length>0?a.jsx("div",{className:"grid"===x?"grid grid-cols-1 md:grid-cols-2 gap-8 grid-stagger items-stretch":"space-y-8",children:X.map((e,t)=>{let s=e.images&&e.images.length>0?e.images:e.image_url?[e.image_url]:[];return a.jsx(v,{product:{id:e.id,name:e.name,description:e.description,short_description:e.short_description||e.description,category_id:e.category_id||"",image_url:e.image_url||"",features:e.features||[],images:s,is_active:e.is_active,display_order:e.display_order},viewMode:x,index:t,onViewDetails:Y},e.id)})}):a.jsx("div",{className:"text-center py-16",children:a.jsx("div",{className:"max-w-md mx-auto space-y-4",children:0===t.length?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(A.Z,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"No Products Available"}),a.jsx("p",{className:"text-gray-500",children:"No products are currently available in this category."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:a.jsx(T.Z,{className:"w-12 h-12 text-gray-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"No Results Found"}),a.jsx("p",{className:"text-gray-500",children:"No products found matching your search criteria. Try adjusting your search terms."})]})})})}),H>1&&a.jsx(y.Z,{animation:"slideUp",delay:.3,children:a.jsx(L,{currentPage:P,totalPages:H,onPageChange:F,itemsPerPage:I,totalItems:V.length})}),a.jsx(q.Z,{}),a.jsx(z,{product:f,isOpen:j,onClose:()=>{k(!1),b(null)}})]})},G=({categoryId:e})=>{let t=(0,l.useRouter)(),[s,n]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0),[x,u]=(0,i.useState)(null),h=(0,i.useCallback)(async()=>{try{u(null),console.log("Fetching category with ID/slug:",e);let{data:t,error:s}=await o.O.from("product_categories").select("*").eq("slug",`${e}`).eq("is_active",!0).single();if(console.log("Category query result:",{data:t,error:s}),s)throw s;n(t),console.log("Category set successfully:",t)}catch(e){console.error("Error fetching category:",e),u(e.message),n(null)}finally{d(!1)}},[e]);return((0,i.useEffect)(()=>{h()},[h]),c)?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):x||!s?(console.log("Falling back to CategoryDetailFallback due to:",x||"Category not found"),a.jsx(C,{categoryId:e})):(0,a.jsxs)("div",{children:[a.jsx(Z,{category:s}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx("button",{onClick:()=>t.push("/products"),className:"flex items-center justify-center w-10 h-10 rounded-full bg-cyan-50 text-cyan-600 hover:bg-cyan-100 transition-colors",children:a.jsx(r.Z,{className:"h-5 w-5"})}),a.jsx("span",{className:"text-gray-600",children:"Back to categories"})]}),a.jsx(B,{categoryId:e})]})]})}},30112:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(10326);s(17577);var r=s(88307);let l=({value:e,onChange:t,placeholder:s="Search categories..."})=>(0,a.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:s,value:e,onChange:e=>t(e.target.value),className:"w-full pl-14 pr-6 py-4 rounded-2xl border-2 border-gray-200 bg-white/80 backdrop-blur-sm focus:border-cyan-500 focus:ring-4 focus:ring-cyan-100 transition-all duration-300 text-lg placeholder-gray-400 shadow-lg hover:shadow-xl group-hover:border-cyan-300"}),a.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 transition-all duration-300 group-focus-within:text-cyan-600",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(r.Z,{className:"h-6 w-6 text-gray-400 group-focus-within:text-cyan-600 transition-colors duration-300"}),a.jsx("div",{className:"absolute inset-0 bg-cyan-400 rounded-full blur-lg opacity-0 group-focus-within:opacity-20 transition-opacity duration-300"})]})}),e&&a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-full animate-pulse"})}),a.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-600 opacity-0 group-focus-within:opacity-100 transition-opacity duration-300 -z-10 blur-xl"})]}),!e&&a.jsx("div",{className:"mt-3 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Try searching for specific categories or keywords"})})]})},87628:(e,t,s)=>{"use strict";s.d(t,{R:()=>r});var a=s(17577);let r=(e,t)=>{let[s,r]=(0,a.useState)(""),l=(0,a.useMemo)(()=>{if(!s.trim())return e;let a=s.toLowerCase();return e.filter(e=>t.some(t=>{let s=e[t];return s&&s.toString().toLowerCase().includes(a)}))},[e,s,t]);return{searchTerm:s,setSearchTerm:r,filteredItems:l}}},86333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},941:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},39183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},96633:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},924:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},49216:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},48705:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},88307:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},33734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},53468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},28164:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,generateStaticParams:()=>c});var a=s(19510);let r=(0,s(68570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\components\products\CategoryDetailDB.tsx#default`);var l=s(81700),i=s(94267),n=s(64759),o=s(71159);async function c(){return[{categoryId:"diving-equipment"},{categoryId:"safety-gear"},{categoryId:"underwater-cameras"},{categoryId:"accessories"},{categoryId:"wetsuits-gear"},{categoryId:"maintenance-tools"}]}function d({params:e}){return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[a.jsx(l.Z,{}),a.jsx("main",{className:"flex-grow page-content",children:a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(o.Suspense,{fallback:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}),children:a.jsx(r,{categoryId:e.categoryId})})})}),a.jsx(i.Z,{}),a.jsx(n.Z,{})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9276,4764,7378,6226,8888,5574],()=>s(25202));module.exports=a})();