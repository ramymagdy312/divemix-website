(()=>{var e={};e.id=737,e.ids=[737],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},5202:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(8164),s(1506),s(5866);var a=s(3191),r=s(8716),l=s(7922),i=s.n(l),c=s(5231),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);s.d(t,n);let o=["",{children:["products",{children:["[categoryId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8164)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\products\\[categoryId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\products\\[categoryId]\\page.tsx"],u="/products/[categoryId]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/products/[categoryId]/page",pathname:"/products/[categoryId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7243:(e,t,s)=>{Promise.resolve().then(s.bind(s,1211)),Promise.resolve().then(s.bind(s,3102)),Promise.resolve().then(s.bind(s,268)),Promise.resolve().then(s.bind(s,3991))},268:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var a=s(326),r=s(7577),l=s(5047),i=s(9060),c=s(1890),n=s(9183),o=s(4019),d=s(6226);let u=({images:e,currentIndex:t,onClose:s,onNext:r,onPrevious:l,alt:i})=>(0,a.jsxs)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-white hover:text-gray-300 p-2","aria-label":"Close modal",children:a.jsx(o.Z,{className:"h-8 w-8"})}),(0,a.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 w-full",children:[a.jsx(d.default,{src:e[t],alt:`${i} - ${t+1}`,width:1200,height:800,className:"max-h-[85vh] mx-auto object-contain"}),e.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:l,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 p-2","aria-label":"Previous image",children:a.jsx(c.Z,{className:"h-8 w-8"})}),a.jsx("button",{onClick:r,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 p-2","aria-label":"Next image",children:a.jsx(n.Z,{className:"h-8 w-8"})})]}),a.jsx("div",{className:"absolute bottom-4 left-0 right-0",children:a.jsx("div",{className:"flex justify-center gap-2",children:e.map((e,s)=>a.jsx("div",{className:`w-2 h-2 rounded-full ${s===t?"bg-white":"bg-gray-500"}`},s))})})]})]}),x=({images:e,alt:t})=>{let[s,l]=(0,r.useState)(0),[i,o]=(0,r.useState)(!1),x=(0,r.useCallback)(t=>{t?.stopPropagation(),l(t=>0===t?e.length-1:t-1)},[e.length]),m=(0,r.useCallback)(t=>{t?.stopPropagation(),l(t=>t===e.length-1?0:t+1)},[e.length]);(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&i&&o(!1),"ArrowLeft"===e.key&&i&&x(),"ArrowRight"===e.key&&i&&m()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[i,m,x]);let h=e=>{l(e)};return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"relative h-full rounded-lg overflow-hidden cursor-pointer group",onClick:()=>{o(!0)},children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(d.default,{src:e[s],alt:`${t} - ${s+1}`,fill:!0,className:"object-contain"})}),e.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:x,className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 transition-colors opacity-0 group-hover:opacity-100","aria-label":"Previous image",children:a.jsx(c.Z,{className:"h-5 w-5"})}),a.jsx("button",{onClick:m,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/50 rounded-full text-white hover:bg-black/70 transition-colors opacity-0 group-hover:opacity-100","aria-label":"Next image",children:a.jsx(n.Z,{className:"h-5 w-5"})})]})]}),e.length>1&&a.jsx("div",{className:"flex gap-2 mt-4 h-16",children:e.map((e,r)=>a.jsx("button",{onClick:()=>h(r),className:`w-16 rounded-md overflow-hidden transition-all ${r===s?"ring-2 ring-cyan-500 opacity-100":"opacity-60 hover:opacity-100"}`,children:a.jsx("div",{className:"aspect-square relative bg-gray-50",children:a.jsx(d.default,{src:e,alt:`${t} thumbnail ${r+1}`,fill:!0,className:"object-contain"})})},r))}),i&&a.jsx(u,{images:e,currentIndex:s,onClose:()=>o(!1),onNext:m,onPrevious:x,alt:t})]})},m=({product:e})=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-8",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[a.jsx("div",{className:"w-full md:w-1/2 lg:w-2/5",children:a.jsx("div",{className:"aspect-square relative rounded-lg overflow-hidden bg-gray-50",children:a.jsx(x,{images:e.images,alt:e.name})})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:e.name}),a.jsx("p",{className:"text-gray-600 text-lg leading-relaxed mb-6",children:e.desc}),e.features.length>0&&(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-semibold text-lg mb-3",children:"Key Features:"}),a.jsx("ul",{className:"space-y-2",children:e.features.map(e=>(0,a.jsxs)("li",{className:"flex items-center text-gray-700",children:[a.jsx("span",{className:"w-2 h-2 bg-cyan-600 rounded-full mr-2"}),e]},e))})]})]})]})});var h=s(112),p=s(7628),g=s(214);let f=({categoryId:e})=>{let[t,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),{searchTerm:n,setSearchTerm:o,filteredItems:d}=(0,p.R)(t,["name","description"]),u=(0,r.useCallback)(async()=>{try{let{data:t,error:a}=await i.O.from("products").select("*").eq("category_id",e).order("created_at",{ascending:!1});if(a)throw a;s(t||[])}catch(e){console.error("Error fetching products:",e)}finally{c(!1)}},[e]);return((0,r.useEffect)(()=>{u()},[u]),l)?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):a.jsx(g.default,{animation:"fadeIn",children:(0,a.jsxs)("div",{children:[a.jsx(h.Z,{value:n,onChange:o,placeholder:"Search products..."}),d.length>0?a.jsx("div",{className:"space-y-8",children:d.map(e=>a.jsx(m,{product:{id:e.id,name:e.name,desc:e.description,features:e.features,images:e.images}},e.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your search."})})]})})},y=({category:e})=>(0,a.jsxs)("div",{className:"relative bg-cyan-900 text-white",children:[a.jsx("div",{className:"absolute inset-0 z-0",children:a.jsx(d.default,{src:e.hero,alt:e.categoryName,fill:!0,className:"object-cover opacity-50"})}),a.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:a.jsx("div",{className:"flex flex-col md:flex-row items-center gap-12",children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:e.categoryName}),a.jsx("p",{className:"text-xl text-cyan-100 leading-relaxed max-w-2xl",children:e.shortDesc})]})})})]}),b=(0,s(6557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),j=({categoryId:e})=>{let t=(0,l.useRouter)(),[s,c]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0),d=(0,r.useCallback)(async()=>{try{let{data:t,error:s}=await i.O.from("categories").select("*").eq("id",e).single();if(s)throw s;c(t)}catch(e){console.error("Error fetching category:",e)}finally{o(!1)}},[e]);return((0,r.useEffect)(()=>{d()},[d]),n)?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):s?(0,a.jsxs)("div",{children:[a.jsx(y,{category:{id:s.id,categoryName:s.name,shortDesc:s.description,hero:s.hero_image,image:s.image,products:[]}}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-8",children:[a.jsx("button",{onClick:()=>t.push("/products"),className:"flex items-center justify-center w-10 h-10 rounded-full bg-cyan-50 text-cyan-600 hover:bg-cyan-100 transition-colors",children:a.jsx(b,{className:"h-5 w-5"})}),a.jsx("span",{className:"text-gray-600",children:"Back to categories"})]}),a.jsx(f,{categoryId:e})]})]}):a.jsx("div",{children:"Category not found"})}},1890:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5047:(e,t,s)=>{"use strict";var a=s(7389);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},9145:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var a=s(2438);let r=process.env.NEXT_PUBLIC_SUPABASE_URL,l=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;r&&"your-supabase-url"!==r||console.warn("Supabase URL not configured properly. Using fallback configuration."),l&&"your-supabase-anon-key"!==l||console.warn("Supabase Anon Key not configured properly. Using fallback configuration.");let i=(0,a.eI)(r||"https://placeholder.supabase.co",l||"placeholder-key")},8164:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,generateStaticParams:()=>o});var a=s(9510);let r=(0,s(8570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\components\products\CategoryDetailDB.tsx#default`);var l=s(1700),i=s(4267),c=s(6884),n=s(9145);async function o(){try{let{data:e}=await n.O.from("categories").select("id");return e?.map(e=>({categoryId:e.id}))||[]}catch(e){return console.error("Error generating static params:",e),[{categoryId:"550e8400-e29b-41d4-a716-446655440001"},{categoryId:"550e8400-e29b-41d4-a716-446655440002"},{categoryId:"550e8400-e29b-41d4-a716-446655440003"},{categoryId:"550e8400-e29b-41d4-a716-446655440004"},{categoryId:"550e8400-e29b-41d4-a716-446655440005"}]}}function d({params:e}){return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[a.jsx(l.Z,{}),a.jsx("main",{className:"flex-grow page-content",children:a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(r,{categoryId:e.categoryId})})}),a.jsx(i.Z,{}),a.jsx(c.Z,{})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,471,448,997,226,781,438,324],()=>s(5202));module.exports=a})();