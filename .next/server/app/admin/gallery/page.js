(()=>{var e={};e.id=56,e.ids=[56],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},57326:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),a(57658),a(90596),a(11506),a(35866);var r=a(23191),s=a(88716),i=a(37922),l=a.n(i),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["admin",{children:["gallery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,57658)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\gallery\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,90596)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\gallery\\page.tsx"],u="/admin/gallery/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/gallery/page",pathname:"/admin/gallery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},76860:(e,t,a)=>{Promise.resolve().then(a.bind(a,40867))},40867:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var r=a(10326),s=a(17577),i=a(99060),l=a(71709),n=a(83855),d=a(88307),o=a(69508),c=a(98091),u=a(90434),m=a(46226),x=a(40381),p=a(82610),f=a(64070),g=a(62329),h=a(83431),y=a(90986);function v(){let[e,t]=(0,s.useState)([]),[a,v]=(0,s.useState)(!0),[j,N]=(0,s.useState)(""),b=async a=>{try{let{error:r}=await i.O.from("gallery_images").delete().eq("id",a);if(r)throw r;t(e.filter(e=>e.id!==a))}catch(e){console.error("Error deleting image:",e),x.ZP.error("Error deleting image")}},w=e.filter(e=>e.title.toLowerCase().includes(j.toLowerCase())||e.category.toLowerCase().includes(j.toLowerCase()));return a?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[r.jsx(l.Z,{className:"h-8 w-8 mr-3 text-primary"}),"Gallery"]}),r.jsx("p",{className:"text-muted-foreground",children:"Manage all gallery images"})]}),r.jsx(p.z,{asChild:!0,children:(0,r.jsxs)(u.default,{href:"/admin/gallery/new",children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Add New Image"]})})]}),(0,r.jsxs)(h.Zb,{children:[(0,r.jsxs)(h.Ol,{children:[r.jsx(h.ll,{children:"Search Images"}),r.jsx(h.SZ,{children:"Find images by title or category"})]}),r.jsx(h.aY,{children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx(d.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),r.jsx(f.I,{type:"text",placeholder:"Search images...",className:"pl-10",value:j,onChange:e=>N(e.target.value)})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mt-6",children:w.map(e=>(0,r.jsxs)(h.Zb,{className:"overflow-hidden",children:[r.jsx("div",{className:"aspect-square relative",children:r.jsx(m.default,{src:e.url,alt:e.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)(h.aY,{className:"p-4",children:[r.jsx("h3",{className:"font-medium truncate",children:e.title}),r.jsx(g.C,{variant:"secondary",className:"mt-1",children:e.category}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 mt-3",children:[r.jsx(p.z,{variant:"ghost",size:"sm",asChild:!0,children:r.jsx(u.default,{href:`/admin/gallery/${e.id}/edit`,children:r.jsx(o.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(y.aR,{children:[r.jsx(y.vW,{asChild:!0,children:r.jsx(p.z,{variant:"ghost",size:"sm",children:r.jsx(c.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(y._T,{children:[(0,r.jsxs)(y.fY,{children:[r.jsx(y.f$,{children:"Delete Image"}),r.jsx(y.yT,{children:"Are you sure you want to delete this image? This action cannot be undone."})]}),(0,r.jsxs)(y.xo,{children:[r.jsx(y.le,{children:"Cancel"}),r.jsx(y.OL,{onClick:()=>b(e.id),children:"Delete"})]})]})]})]})]})]},e.id))}),0===w.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(l.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No images in gallery"})]})]})}},90986:(e,t,a)=>{"use strict";a.d(t,{aR:()=>C,OL:()=>$,le:()=>Y,_T:()=>z,yT:()=>L,xo:()=>E,fY:()=>O,f$:()=>I,vW:()=>T});var r=a(10326),s=a(17577),i=a(93095),l=a(48051),n=a(98958),d=a(82561),o=a(34214),c="AlertDialog",[u,m]=(0,i.b)(c,[n.p8]),x=(0,n.p8)(),p=e=>{let{__scopeAlertDialog:t,...a}=e,s=x(t);return(0,r.jsx)(n.fC,{...s,...a,modal:!0})};p.displayName=c;var f=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,r.jsx)(n.xz,{...i,...s,ref:t})});f.displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:t,...a}=e,s=x(t);return(0,r.jsx)(n.h_,{...s,...a})};g.displayName="AlertDialogPortal";var h=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,r.jsx)(n.aV,{...i,...s,ref:t})});h.displayName="AlertDialogOverlay";var y="AlertDialogContent",[v,j]=u(y),N=(0,o.sA)("AlertDialogContent"),b=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:i,...o}=e,c=x(a),u=s.useRef(null),m=(0,l.e)(t,u),p=s.useRef(null);return(0,r.jsx)(n.jm,{contentName:y,titleName:w,docsSlug:"alert-dialog",children:(0,r.jsx)(v,{scope:a,cancelRef:p,children:(0,r.jsxs)(n.VY,{role:"alertdialog",...c,...o,ref:m,onOpenAutoFocus:(0,d.M)(o.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(N,{children:i}),(0,r.jsx)(S,{contentRef:u})]})})})});b.displayName=y;var w="AlertDialogTitle",R=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,r.jsx)(n.Dx,{...i,...s,ref:t})});R.displayName=w;var D="AlertDialogDescription",q=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,r.jsx)(n.dk,{...i,...s,ref:t})});q.displayName=D;var A=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,i=x(a);return(0,r.jsx)(n.x8,{...i,...s,ref:t})});A.displayName="AlertDialogAction";var k="AlertDialogCancel",P=s.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...s}=e,{cancelRef:i}=j(k,a),d=x(a),o=(0,l.e)(t,i);return(0,r.jsx)(n.x8,{...d,...s,ref:o})});P.displayName=k;var S=({contentRef:e})=>{let t=`\`${y}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${y}\` by passing a \`${D}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${y}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Z=a(77863),_=a(82610);let C=p,T=f,M=s.forwardRef(({className:e,...t},a)=>r.jsx(h,{className:(0,Z.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));M.displayName=h.displayName;let z=s.forwardRef(({className:e,...t},a)=>(0,r.jsxs)(g,{children:[r.jsx(M,{}),r.jsx(b,{ref:a,className:(0,Z.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));z.displayName=b.displayName;let O=({className:e,...t})=>r.jsx("div",{className:(0,Z.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});O.displayName="AlertDialogHeader";let E=({className:e,...t})=>r.jsx("div",{className:(0,Z.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});E.displayName="AlertDialogFooter";let I=s.forwardRef(({className:e,...t},a)=>r.jsx(R,{ref:a,className:(0,Z.cn)("text-lg font-semibold",e),...t}));I.displayName=R.displayName;let L=s.forwardRef(({className:e,...t},a)=>r.jsx(q,{ref:a,className:(0,Z.cn)("text-sm text-muted-foreground",e),...t}));L.displayName=q.displayName;let $=s.forwardRef(({className:e,...t},a)=>r.jsx(A,{ref:a,className:(0,Z.cn)((0,_.d)(),e),...t}));$.displayName=A.displayName;let Y=s.forwardRef(({className:e,...t},a)=>r.jsx(P,{ref:a,className:(0,Z.cn)((0,_.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Y.displayName=P.displayName},62329:(e,t,a)=>{"use strict";a.d(t,{C:()=>n});var r=a(10326);a(17577);var s=a(79360),i=a(47405);let l=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:t,...a}){return r.jsx("div",{className:(0,i.cn)(l({variant:t}),e),...a})}},83855:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},98091:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});let r=(0,a(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},57658:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\admin\gallery\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,4764,2997,9856,6226,1859,2748,2265],()=>a(57326));module.exports=r})();