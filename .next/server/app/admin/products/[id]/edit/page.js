(()=>{var e={};e.id=9435,e.ids=[9435],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},56420:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>d.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>o,routeModule:()=>x,tree:()=>l}),t(17486),t(90596),t(11506),t(35866);var r=t(23191),a=t(88716),i=t(37922),d=t.n(i),c=t(95231),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);t.d(s,n);let l=["",{children:["admin",{children:["products",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,17486)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\products\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,90596)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\products\\[id]\\edit\\page.tsx"],u="/admin/products/[id]/edit/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/products/[id]/edit/page",pathname:"/admin/products/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},21896:(e,s,t)=>{Promise.resolve().then(t.bind(t,53715))},53715:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(10326),a=t(17577),i=t(35047),d=t(99060),c=t(86333),n=t(87888),l=t(69508),o=t(90434),u=t(40381),p=t(7789),x=t(83431),m=t(82610),h=t(1817),j=t(62329),f=t(28766);function v({params:e}){let s=(0,i.useRouter)(),[t,v]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[b,N]=(0,a.useState)(!0),[w,P]=(0,a.useState)(!1),[q,S]=(0,a.useState)(""),R=async t=>{if(!w){v(!0);try{let{error:r}=await d.O.from("products").update(t).eq("id",e.id);if(r){console.error("Error updating product:",r),u.ZP.error(`Error updating product: ${r.message}`);return}u.ZP.success("Product updated successfully!"),s.push("/admin/products")}catch(e){console.error("Error updating product:",e),u.ZP.error(`Error updating product: ${e.message}`)}finally{v(!1)}}};return b?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(f.O,{className:"h-8 w-48"}),r.jsx(f.O,{className:"h-4 w-96"})]}),r.jsx(f.O,{className:"h-6 w-20"})]}),(0,r.jsxs)(x.Zb,{children:[(0,r.jsxs)(x.Ol,{children:[r.jsx(f.O,{className:"h-6 w-40"}),r.jsx(f.O,{className:"h-4 w-64"})]}),(0,r.jsxs)(x.aY,{className:"space-y-4",children:[r.jsx(f.O,{className:"h-10 w-full"}),r.jsx(f.O,{className:"h-10 w-full"}),r.jsx(f.O,{className:"h-24 w-full"})]})]})]}):g?(0,r.jsxs)("div",{className:"space-y-6",children:[(w||q)&&(0,r.jsxs)(h.bZ,{variant:"destructive",children:[r.jsx(n.Z,{className:"h-4 w-4"}),r.jsx(h.Cd,{children:q?"Database Connection Issue":"Demo Mode Active"}),(0,r.jsxs)(h.X,{children:[q?(0,r.jsxs)(r.Fragment,{children:["Database error: ",q,". Showing sample product data."]}):r.jsx(r.Fragment,{children:"Editing sample product. Database not configured."}),r.jsx(o.default,{href:"/check-products-database",className:"underline ml-2",children:"Set up database →"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(m.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(o.default,{href:"/admin/products",children:[r.jsx(c.Z,{className:"h-4 w-4 mr-1"}),"Back to Products"]})})}),r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Product"}),r.jsx("p",{className:"text-muted-foreground",children:w?"Editing sample product (Demo Mode)":"Edit product data"}),g&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Product ID: ",g.id," • ",g.name]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(j.C,{variant:w?"destructive":"secondary",children:w?"Demo Mode":"Live"}),(0,r.jsxs)(j.C,{variant:"outline",children:[r.jsx(l.Z,{className:"h-3 w-3 mr-1"}),"Editing"]})]})]}),r.jsx(p.Z,{initialData:g,onSubmit:R,loading:t})]}):r.jsx("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:(0,r.jsxs)(x.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(x.Ol,{className:"text-center",children:[r.jsx(x.ll,{children:"Product Not Found"}),r.jsx(x.SZ,{children:"The requested product could not be found."})]}),(0,r.jsxs)(x.aY,{className:"flex flex-col space-y-2",children:[r.jsx(m.z,{asChild:!0,children:(0,r.jsxs)(o.default,{href:"/admin/products",children:[r.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Back to Products"]})}),r.jsx(m.z,{variant:"outline",asChild:!0,children:(0,r.jsxs)(o.default,{href:"/check-products-database",children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Check Database"]})})]})]})})}},69508:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},17486:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\admin\products\[id]\edit\page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[9276,4764,2997,9856,6226,1859,2748,6534,2265,3927,4469],()=>t(56420));module.exports=r})();