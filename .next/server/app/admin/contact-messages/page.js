(()=>{var e={};e.id=5082,e.ids=[5082],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},63767:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>o,originalPathname:()=>x,pages:()=>m,routeModule:()=>h,tree:()=>d}),t(4336),t(90596),t(11506),t(35866);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),c=t(95231),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);t.d(s,n);let d=["",{children:["admin",{children:["contact-messages",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4336)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\contact-messages\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,90596)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],m=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\admin\\contact-messages\\page.tsx"],x="/admin/contact-messages/page",o={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/contact-messages/page",pathname:"/admin/contact-messages",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},36238:(e,s,t)=>{Promise.resolve().then(t.bind(t,8025))},8025:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(10326),r=t(17577),l=t(99060),i=t(48998),c=t(12714),n=t(54659),d=t(39730),m=t(79635),x=t(5932),o=t(37358),h=t(98091),u=t(72329),p=t(40381);function g(){let[e,s]=(0,r.useState)([]),[t,g]=(0,r.useState)(!0),[y,j]=(0,r.useState)(null),[N,b]=(0,r.useState)("all"),f=async(e,t)=>{try{let{error:a}=await l.O.from("contact_submissions").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(a){console.error("Error updating message status:",a),p.ZP.error("Failed to update message status");return}s(s=>s.map(s=>s.id===e?{...s,status:t}:s)),y&&y.id===e&&j({...y,status:t}),p.ZP.success("Message status updated")}catch(e){console.error("Error:",e),p.ZP.error("Failed to update message status")}},v=async e=>{if(confirm("Are you sure you want to delete this message? This action cannot be undone."))try{let{error:t}=await l.O.from("contact_submissions").delete().eq("id",e);if(t){console.error("Error deleting message:",t),p.ZP.error("Failed to delete message");return}s(s=>s.filter(s=>s.id!==e)),y&&y.id===e&&j(null),p.ZP.success("Message deleted successfully")}catch(e){console.error("Error:",e),p.ZP.error("Failed to delete message")}},w=e=>{j(e),"new"===e.status&&f(e.id,"read")},k=e.filter(e=>"all"===N||e.status===N),Z=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"read":return"bg-yellow-100 text-yellow-800";case"replied":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},R=e=>{switch(e){case"new":default:return a.jsx(i.Z,{className:"h-3 w-3"});case"read":return a.jsx(c.Z,{className:"h-3 w-3"});case"replied":return a.jsx(n.Z,{className:"h-3 w-3"})}};return t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):(0,a.jsxs)("div",{children:[a.jsx(u.Z,{items:[{name:"Contact Messages"}]}),a.jsx("div",{className:"flex justify-between items-center mb-8",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[a.jsx(d.Z,{className:"h-8 w-8 mr-3 text-cyan-600"}),"Contact Messages"]}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and respond to contact form submissions"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Messages"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(i.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New Messages"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>"new"===e.status).length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(c.Z,{className:"h-8 w-8 text-yellow-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Read Messages"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>"read"===e.status).length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(n.Z,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Replied"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>"replied"===e.status).length})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"all",label:"All Messages",count:e.length},{key:"new",label:"New",count:e.filter(e=>"new"===e.status).length},{key:"read",label:"Read",count:e.filter(e=>"read"===e.status).length},{key:"replied",label:"Replied",count:e.filter(e=>"replied"===e.status).length}].map(e=>(0,a.jsxs)("button",{onClick:()=>b(e.key),className:`py-4 px-1 border-b-2 font-medium text-sm ${N===e.key?"border-cyan-500 text-cyan-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.label," (",e.count,")"]},e.key))})}),a.jsx("div",{className:"divide-y divide-gray-200",children:0===k.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(d.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages"}),a.jsx("p",{className:"text-gray-500",children:"No messages found for the selected filter."})]}):k.map(e=>a.jsx("div",{onClick:()=>w(e),className:`p-6 hover:bg-gray-50 cursor-pointer ${"new"===e.status?"bg-blue-50":""} ${y?.id===e.id?"bg-cyan-50 border-l-4 border-cyan-500":""}`,children:a.jsx("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.subject}),(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z(e.status)}`,children:[R(e.status),a.jsx("span",{className:"ml-1 capitalize",children:e.status})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(m.Z,{className:"h-4 w-4 mr-1"}),e.name]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(x.Z,{className:"h-4 w-4 mr-1"}),e.email]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(o.Z,{className:"h-4 w-4 mr-1"}),new Date(e.created_at).toLocaleDateString()]})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.message})]})})},e.id))})]})}),a.jsx("div",{className:"lg:col-span-1",children:y?(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Message Details"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:y.status,onChange:e=>f(y.id,e.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"read",children:"Read"}),a.jsx("option",{value:"replied",children:"Replied"})]}),a.jsx("button",{onClick:()=>v(y.id),className:"text-red-600 hover:text-red-700",children:a.jsx(h.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Subject"}),a.jsx("p",{className:"text-gray-900",children:y.subject})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"From"}),a.jsx("p",{className:"text-gray-900",children:y.name}),a.jsx("p",{className:"text-sm text-gray-600",children:y.email})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),a.jsx("p",{className:"text-gray-900",children:new Date(y.created_at).toLocaleString()})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Message"}),a.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:y.message})})]}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:(0,a.jsxs)("a",{href:`mailto:${y.email}?subject=Re: ${y.subject}&body=Hello ${y.name},%0D%0A%0D%0AThank you for contacting us.%0D%0A%0D%0A`,className:"w-full bg-cyan-600 text-white px-4 py-2 rounded-md hover:bg-cyan-700 flex items-center justify-center",children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Reply via Email"]})})]})]}):a.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[a.jsx(d.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{children:"Select a message to view details"})]})})})]})]})}},72329:(e,s,t)=>{"use strict";t.d(s,{Z:()=>c});var a=t(10326),r=t(90434),l=t(95920),i=t(39183);function c({items:e}){return a.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"flex items-center space-x-2",children:[a.jsx("li",{children:(0,a.jsxs)(r.default,{href:"/admin",className:"text-gray-400 hover:text-gray-500 flex items-center",children:[a.jsx(l.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Admin"})]})}),e.map((s,t)=>(0,a.jsxs)("li",{className:"flex items-center",children:[a.jsx(i.Z,{className:"h-4 w-4 text-gray-400 mx-2"}),s.href&&t<e.length-1?a.jsx(r.default,{href:s.href,className:"text-sm font-medium text-gray-500 hover:text-gray-700",children:s.name}):a.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.name})]},s.name))]})})}},37358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},54659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},48998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},95920:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},98091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},79635:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4336:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\admin\contact-messages\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[9276,4764,2997,9783,1859,2748,2265],()=>t(63767));module.exports=a})();