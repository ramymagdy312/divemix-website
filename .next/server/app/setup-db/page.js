(()=>{var e={};e.id=1872,e.ids=[1872],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},26432:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>g}),a(98954),a(11506),a(35866);var r=a(23191),i=a(88716),s=a(37922),n=a.n(s),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let g=["",{children:["setup-db",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,98954)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\setup-db\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Ramy\\RTS\\ReactJS\\divemix-website\\app\\setup-db\\page.tsx"],d="/setup-db/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/setup-db/page",pathname:"/setup-db",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:g}})},48819:(e,t,a)=>{Promise.resolve().then(a.bind(a,40381))},54185:(e,t,a)=>{Promise.resolve().then(a.bind(a,6689))},29823:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},99060:(e,t,a)=>{"use strict";a.d(t,{O:()=>n});var r=a(52997);let i="https://ilxfqrxybtcftioizoan.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseGZxcnh5YnRjZnRpb2l6b2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTg5MjMsImV4cCI6MjA2OTQzNDkyM30.Jhjy7136xlqHcVjeCGPDvh4Ofpio3a09Y2fFu2Sqqh0";i||console.warn("Supabase URL not configured properly. Using fallback configuration."),s||console.warn("Supabase Anon Key not configured properly. Using fallback configuration.");let n=(0,r.eI)(i||"https://placeholder.supabase.co",s||"placeholder-key")},6689:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var r=a(10326),i=a(17577),s=a(99060);function n(){let[e,t]=(0,i.useState)(""),[a,n]=(0,i.useState)(!1),l=async()=>{n(!0),t("Starting database setup...\n");try{t(e=>e+"Creating update function...\n"),await s.O.rpc("exec_sql",{sql:`
          CREATE OR REPLACE FUNCTION update_updated_at_column()
          RETURNS TRIGGER AS $$
          BEGIN
              NEW.updated_at = NOW();
              RETURN NEW;
          END;
          $$ language 'plpgsql';
        `}),t(e=>e+"Creating gallery_categories table...\n");let{error:e}=await s.O.rpc("exec_sql",{sql:`
          CREATE TABLE IF NOT EXISTS gallery_categories (
              id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
              name TEXT NOT NULL UNIQUE,
              description TEXT,
              slug TEXT NOT NULL UNIQUE,
              display_order INTEGER DEFAULT 0,
              is_active BOOLEAN DEFAULT true,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
              updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
          );
        `});if(e)throw Error(`Categories table error: ${e.message}`);t(e=>e+"Creating categories trigger...\n"),await s.O.rpc("exec_sql",{sql:`
          DROP TRIGGER IF EXISTS update_gallery_categories_updated_at ON gallery_categories;
          CREATE TRIGGER update_gallery_categories_updated_at 
              BEFORE UPDATE ON gallery_categories 
              FOR EACH ROW 
              EXECUTE FUNCTION update_updated_at_column();
        `}),t(e=>e+"Inserting categories...\n");let{error:a}=await s.O.from("gallery_categories").upsert([{name:"Installations",description:"Industrial compressor installations and setup",slug:"installations",display_order:1},{name:"Maintenance",description:"Maintenance workshops and service operations",slug:"maintenance",display_order:2},{name:"Testing",description:"Quality testing processes and procedures",slug:"testing",display_order:3},{name:"Facilities",description:"Our manufacturing facilities and equipment",slug:"facilities",display_order:4},{name:"Training",description:"Training sessions and educational programs",slug:"training",display_order:5}],{onConflict:"slug"});if(a)throw Error(`Insert categories error: ${a.message}`);t(e=>e+"Creating gallery_images table...\n");let{error:r}=await s.O.rpc("exec_sql",{sql:`
          CREATE TABLE IF NOT EXISTS gallery_images (
              id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
              title TEXT NOT NULL,
              url TEXT NOT NULL,
              category TEXT,
              category_id UUID REFERENCES gallery_categories(id) ON DELETE SET NULL,
              created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
              updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
          );
        `});if(r)throw Error(`Images table error: ${r.message}`);t(e=>e+"Creating images trigger...\n"),await s.O.rpc("exec_sql",{sql:`
          DROP TRIGGER IF EXISTS update_gallery_images_updated_at ON gallery_images;
          CREATE TRIGGER update_gallery_images_updated_at 
              BEFORE UPDATE ON gallery_images 
              FOR EACH ROW 
              EXECUTE FUNCTION update_updated_at_column();
        `}),t(e=>e+"Getting category IDs...\n");let{data:i}=await s.O.from("gallery_categories").select("id, slug"),n=i?.reduce((e,t)=>(e[t.slug]=t.id,e),{})||{};t(e=>e+"Inserting images...\n");let l=[{title:"Industrial Compressor Installation",url:"/img/gallery/4big.jpg",category:"installations",category_id:n.installations},{title:"Maintenance Workshop",url:"/img/gallery/11big.jpg",category:"maintenance",category_id:n.maintenance},{title:"Quality Testing Process",url:"/img/gallery/12big.jpg",category:"testing",category_id:n.testing},{title:"Advanced Manufacturing Facility",url:"/img/gallery/Al Ahmadeya.jpg",category:"facilities",category_id:n.facilities},{title:"Training Session",url:"/img/gallery/Al Ahram.jpg",category:"training",category_id:n.training},{title:"Manufacturing Facility Equipment",url:"/img/gallery/Al_Ahmadeya.jpg",category:"facilities",category_id:n.facilities},{title:"Advanced Installation Project",url:"/img/gallery/Alamia Advanced.jpg",category:"installations",category_id:n.installations},{title:"Industrial Installation - Qaliub",url:"/img/gallery/Alamia Qaliub.jpg",category:"installations",category_id:n.installations},{title:"Maintenance Operations",url:"/img/gallery/maintenence.jpg",category:"maintenance",category_id:n.maintenance},{title:"Egyptian Methanex Testing",url:"/img/gallery/Egyptian Methanex.jpg",category:"testing",category_id:n.testing},{title:"Installation Documentation",url:"/img/gallery/DSC00502.jpg",category:"installations",category_id:n.installations},{title:"Best Analog Compressor Facility",url:"/img/gallery/BEST_ANALOG_COMPRESSOR_BG.jpg",category:"facilities",category_id:n.facilities},{title:"Alex Pharma Installation",url:"/img/gallery/Alex Pharma.jpg",category:"installations",category_id:n.installations},{title:"Danone Egypt Testing",url:"/img/gallery/Danone Egypt.jpg",category:"testing",category_id:n.testing},{title:"EgyRoll Maintenance",url:"/img/gallery/EgyRoll.jpg",category:"maintenance",category_id:n.maintenance},{title:"Training Documentation",url:"/img/gallery/IMG_4019.jpg",category:"training",category_id:n.training}],{error:o}=await s.O.from("gallery_images").upsert(l,{onConflict:"url"});if(o)throw Error(`Insert images error: ${o.message}`);t(e=>e+"✅ Database setup completed successfully!\n"),t(e=>e+"You can now go to /gallery to see the images from database.\n")}catch(e){console.error("Setup error:",e),t(t=>t+`❌ Error: ${e.message}
`)}finally{n(!1)}};return(0,r.jsxs)("div",{className:"p-8",children:[r.jsx("h1",{className:"text-2xl mb-4",children:"Database Setup"}),r.jsx("p",{className:"mb-4 text-gray-600",children:"This will create the necessary tables and insert sample data for the gallery."}),r.jsx("button",{onClick:l,disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:opacity-50 mb-4",children:a?"Setting up...":"Setup Database"}),e&&(0,r.jsxs)("div",{className:"bg-gray-100 p-4 rounded",children:[r.jsx("h2",{className:"text-lg mb-2",children:"Setup Status:"}),r.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:e})]})]})}},11506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n,metadata:()=>s});var r=a(19510),i=a(19125);a(67272);let s={title:"DiveMix - Gas & Compressor Technologies",description:"Leading the industry in compressed air and gas solutions since 1990",icons:{icon:"/img/faveicon.ico"}};function n({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{children:[e,r.jsx(i.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,style:{background:"#10b981"}},error:{duration:5e3,style:{background:"#ef4444"}}}})]})})}},98954:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`D:\Ramy\RTS\ReactJS\divemix-website\app\setup-db\page.tsx#default`)},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[9276,4764,2997],()=>a(26432));module.exports=r})();