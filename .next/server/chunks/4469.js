"use strict";exports.id=4469,exports.ids=[4469],exports.modules={7789:(e,a,t)=>{t.d(a,{Z:()=>g});var s=t(10326),r=t(17577);t(99060);var i=t(87888),d=t(83855),l=t(94019),n=t(90434),o=t(63927),c=t(82610),u=t(64070),p=t(70293),m=t(63617),h=t(63902),f=t(98268),x=t(83431),y=t(1817);function g({initialData:e,onSubmit:a,loading:t}){let[g,v]=(0,r.useState)([]),[j,b]=(0,r.useState)(!1),[k,N]=(0,r.useState)(""),[w,_]=(0,r.useState)({name:e?.name||"",description:e?.description||"",short_description:e?.short_description||"",category_id:e?.category_id||"",images:e?.images&&Array.isArray(e.images)?e.images:e?.image_url?[e.image_url]:[],features:e?.features||[""],is_active:e?.is_active===void 0||e.is_active,display_order:e?.display_order||1}),Z=e=>{let a=w.features.filter((a,t)=>t!==e);_({...w,features:a})},C=(e,a)=>{let t=[...w.features];t[e]=a,_({...w,features:t})};return(0,s.jsxs)("div",{children:[(j||k)&&(0,s.jsxs)(y.bZ,{className:"mb-6",children:[s.jsx(i.Z,{className:"h-4 w-4"}),(0,s.jsxs)(y.X,{children:[k?(0,s.jsxs)(s.Fragment,{children:["Database error: ",k,". Cannot save products."]}):s.jsx(s.Fragment,{children:"Cannot save products in demo mode. Database not configured."}),s.jsx(n.default,{href:"/check-products-database",className:"underline ml-2",children:"Set up database â†’"})]})]}),(0,s.jsxs)(x.Zb,{children:[(0,s.jsxs)(x.Ol,{children:[s.jsx(x.ll,{children:"Product Information"}),s.jsx(x.SZ,{children:"Enter the product details below"})]}),s.jsx(x.aY,{children:(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),j)return;let t=w.images.filter(e=>""!==e.trim()),s=w.features.filter(e=>""!==e.trim());a({name:w.name,description:w.description,short_description:w.short_description,category_id:w.category_id,image_url:t[0]||null,images:t,features:s,is_active:w.is_active,display_order:w.display_order})},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(p._,{htmlFor:"product-name",children:"Product Name *"}),s.jsx(u.I,{id:"product-name",type:"text",required:!0,value:w.name,onChange:e=>_({...w,name:e.target.value}),placeholder:"Enter product name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(p._,{htmlFor:"short-description",children:"Short Description"}),s.jsx(u.I,{id:"short-description",type:"text",value:w.short_description,onChange:e=>_({...w,short_description:e.target.value}),placeholder:"Brief product description"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(p._,{htmlFor:"category",children:"Category *"}),(0,s.jsxs)(f.Ph,{value:w.category_id,onValueChange:e=>_({...w,category_id:e}),required:!0,children:[s.jsx(f.i4,{children:s.jsx(f.ki,{placeholder:"Select Category"})}),s.jsx(f.Bw,{children:g.map(e=>s.jsx(f.Ql,{value:e.id,children:e.name},e.id))})]}),j&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Using sample categories. Set up database for real categories."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(p._,{htmlFor:"description",children:"Full Description *"}),s.jsx(m.g,{id:"description",required:!0,rows:4,value:w.description,onChange:e=>_({...w,description:e.target.value}),placeholder:"Detailed product description"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(p._,{children:"Product Images"}),s.jsx(o.Z,{images:w.images,onImagesChange:e=>{_({...w,images:e})},multiple:!0})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx(p._,{children:"Product Features"}),(0,s.jsxs)(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{_({...w,features:[...w.features,""]})},children:[s.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Add Feature"]})]}),s.jsx("div",{className:"space-y-2",children:w.features.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(u.I,{value:e,onChange:e=>C(a,e.target.value),placeholder:`Feature ${a+1}`}),w.features.length>1&&s.jsx(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>Z(a),children:s.jsx(l.Z,{className:"h-4 w-4"})})]},a))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(p._,{htmlFor:"display-order",children:"Display Order"}),s.jsx(u.I,{id:"display-order",type:"number",min:"1",value:w.display_order,onChange:e=>_({...w,display_order:parseInt(e.target.value)||1})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(p._,{children:"Status"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(h.r,{id:"is_active",checked:w.is_active,onCheckedChange:e=>_({...w,is_active:e})}),s.jsx(p._,{htmlFor:"is_active",children:"Active"})]})]})]}),s.jsx("div",{className:"flex justify-end space-x-4",children:s.jsx(c.z,{type:"submit",disabled:t||j,children:t?"Saving...":e?"Update Product":"Create Product"})})]})})]})]})}},62329:(e,a,t)=>{t.d(a,{C:()=>l});var s=t(10326);t(17577);var r=t(79360),i=t(47405);let d=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,...t}){return s.jsx("div",{className:(0,i.cn)(d({variant:a}),e),...t})}},98268:(e,a,t)=>{t.d(a,{Bw:()=>f,Ph:()=>c,Ql:()=>x,i4:()=>p,ki:()=>u});var s=t(10326),r=t(17577),i=t(18792),d=t(941),l=t(96633),n=t(32933),o=t(47405);let c=i.fC;i.ZA;let u=i.B4,p=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(i.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,s.jsx(i.JO,{asChild:!0,children:s.jsx(d.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=i.xz.displayName;let m=r.forwardRef(({className:e,...a},t)=>s.jsx(i.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(l.Z,{className:"h-4 w-4"})}));m.displayName=i.u_.displayName;let h=r.forwardRef(({className:e,...a},t)=>s.jsx(i.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:s.jsx(d.Z,{className:"h-4 w-4"})}));h.displayName=i.$G.displayName;let f=r.forwardRef(({className:e,children:a,position:t="popper",...r},d)=>s.jsx(i.h_,{children:(0,s.jsxs)(i.VY,{ref:d,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[s.jsx(m,{}),s.jsx(i.l_,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),s.jsx(h,{})]})}));f.displayName=i.VY.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(i.__,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=i.__.displayName;let x=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(i.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(i.wU,{children:s.jsx(n.Z,{className:"h-4 w-4"})})}),s.jsx(i.eT,{children:a})]}));x.displayName=i.ck.displayName,r.forwardRef(({className:e,...a},t)=>s.jsx(i.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=i.Z0.displayName},63902:(e,a,t)=>{t.d(a,{r:()=>N});var s=t(10326),r=t(17577),i=t(82561),d=t(48051),l=t(93095),n=t(52067),o=t(53405),c=t(2566),u=t(45226),p="Switch",[m,h]=(0,l.b)(p),[f,x]=m(p),y=r.forwardRef((e,a)=>{let{__scopeSwitch:t,name:l,checked:o,defaultChecked:c,required:m,disabled:h,value:x="on",onCheckedChange:y,form:g,...v}=e,[k,N]=r.useState(null),w=(0,d.e)(a,e=>N(e)),_=r.useRef(!1),Z=!k||g||!!k.closest("form"),[C,S]=(0,n.T)({prop:o,defaultProp:c??!1,onChange:y,caller:p});return(0,s.jsxs)(f,{scope:t,checked:C,disabled:h,children:[(0,s.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":C,"aria-required":m,"data-state":b(C),"data-disabled":h?"":void 0,disabled:h,value:x,...v,ref:w,onClick:(0,i.M)(e.onClick,e=>{S(e=>!e),Z&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),Z&&(0,s.jsx)(j,{control:k,bubbles:!_.current,name:l,value:x,checked:C,required:m,disabled:h,form:g,style:{transform:"translateX(-100%)"}})]})});y.displayName=p;var g="SwitchThumb",v=r.forwardRef((e,a)=>{let{__scopeSwitch:t,...r}=e,i=x(g,t);return(0,s.jsx)(u.WV.span,{"data-state":b(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:a})});v.displayName=g;var j=r.forwardRef(({__scopeSwitch:e,control:a,checked:t,bubbles:i=!0,...l},n)=>{let u=r.useRef(null),p=(0,d.e)(u,n),m=(0,o.D)(t),h=(0,c.t)(a);return r.useEffect(()=>{let e=u.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==t&&a){let s=new Event("click",{bubbles:i});a.call(e,t),e.dispatchEvent(s)}},[m,t,i]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...l,tabIndex:-1,ref:p,style:{...l.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput";var k=t(77863);let N=r.forwardRef(({className:e,...a},t)=>s.jsx(y,{className:(0,k.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:t,children:s.jsx(v,{className:(0,k.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));N.displayName=y.displayName},63617:(e,a,t)=>{t.d(a,{g:()=>d});var s=t(10326),r=t(17577),i=t(47405);let d=r.forwardRef(({className:e,...a},t)=>s.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));d.displayName="Textarea"},87888:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},86333:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},28932:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},65983:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},95920:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},75290:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},21405:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},98091:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63685:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}};