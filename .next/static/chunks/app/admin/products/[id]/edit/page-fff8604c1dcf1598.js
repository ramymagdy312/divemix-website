(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{3155:function(t,r,e){Promise.resolve().then(e.bind(e,3612))},3612:function(t,r,e){"use strict";e.r(r),e.d(r,{default:function(){return o}});var c=e(7437),n=e(2265),a=e(9376),s=e(6151),d=e(1948);function o(t){let{params:r}=t,e=(0,a.useRouter)(),[o,i]=(0,n.useState)(!1),[u,l]=(0,n.useState)(null),[p,f]=(0,n.useState)(!0);(0,n.useEffect)(()=>{h()},[r.id]);let h=async()=>{try{let{data:t,error:e}=await s.O.from("products").select("*").eq("id",r.id).single();if(e){console.error("Error fetching product:",e),alert("Error fetching product data");return}l(t)}catch(t){console.error("Error fetching product:",t),alert("Error fetching product data")}finally{f(!1)}},m=async t=>{i(!0);try{let{error:c}=await s.O.from("products").update(t).eq("id",r.id);if(c){console.error("Error updating product:",c),alert("Error updating product");return}alert("Product updated successfully!"),e.push("/admin/products")}catch(t){console.error("Error updating product:",t),alert("Error updating product")}finally{i(!1)}};return p?(0,c.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):u?(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Product"}),(0,c.jsx)("p",{className:"mt-2 text-gray-600",children:"Edit product data"})]}),(0,c.jsx)(d.Z,{initialData:u,onSubmit:m,loading:o})]}):(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsx)("p",{className:"text-gray-500",children:"Product not found"}),(0,c.jsx)("button",{onClick:()=>e.push("/admin/products"),className:"mt-4 px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700",children:"Back to Products"})]})}}},function(t){t.O(0,[844,145,224,971,117,744],function(){return t(t.s=3155)}),_N_E=t.O()}]);