(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5082],{1249:function(e,s,t){Promise.resolve().then(t.bind(t,3794))},3794:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(7437),r=t(2265),l=t(6151),n=t(1723),c=t(2208),i=t(5302),d=t(2718),o=t(2369),m=t(9345),x=t(1047),u=t(8930),h=t(7060),g=t(9064);function y(){let[e,s]=(0,r.useState)([]),[t,y]=(0,r.useState)(!0),[f,p]=(0,r.useState)(null),[j,N]=(0,r.useState)("all");(0,r.useEffect)(()=>{b()},[]);let b=async()=>{try{let{data:e,error:t}=await l.O.from("contact_submissions").select("*").order("created_at",{ascending:!1});if(t){console.error("Error fetching messages:",t),g.ZP.error("Failed to load messages");return}s(e||[])}catch(e){console.error("Error:",e),g.ZP.error("Failed to load messages")}finally{y(!1)}},v=async(e,t)=>{try{let{error:a}=await l.O.from("contact_submissions").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(a){console.error("Error updating message status:",a),g.ZP.error("Failed to update message status");return}s(s=>s.map(s=>s.id===e?{...s,status:t}:s)),f&&f.id===e&&p({...f,status:t}),g.ZP.success("Message status updated")}catch(e){console.error("Error:",e),g.ZP.error("Failed to update message status")}},w=async e=>{if(confirm("Are you sure you want to delete this message? This action cannot be undone."))try{let{error:t}=await l.O.from("contact_submissions").delete().eq("id",e);if(t){console.error("Error deleting message:",t),g.ZP.error("Failed to delete message");return}s(s=>s.filter(s=>s.id!==e)),f&&f.id===e&&p(null),g.ZP.success("Message deleted successfully")}catch(e){console.error("Error:",e),g.ZP.error("Failed to delete message")}},k=e=>{p(e),"new"===e.status&&v(e.id,"read")},Z=e.filter(e=>"all"===j||e.status===j),M=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800";case"read":return"bg-yellow-100 text-yellow-800";case"replied":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=e=>{switch(e){case"new":default:return(0,a.jsx)(n.Z,{className:"h-3 w-3"});case"read":return(0,a.jsx)(c.Z,{className:"h-3 w-3"});case"replied":return(0,a.jsx)(i.Z,{className:"h-3 w-3"})}};return t?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsx)(h.Z,{items:[{name:"Contact Messages"}]}),(0,a.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8 mr-3 text-cyan-600"}),"Contact Messages"]}),(0,a.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage and respond to contact form submissions"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Messages"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.Z,{className:"h-8 w-8 text-blue-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"New Messages"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>"new"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-8 w-8 text-yellow-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Read Messages"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>"read"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(i.Z,{className:"h-8 w-8 text-green-600"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Replied"}),(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:e.filter(e=>"replied"===e.status).length})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("nav",{className:"flex space-x-8 px-6",children:[{key:"all",label:"All Messages",count:e.length},{key:"new",label:"New",count:e.filter(e=>"new"===e.status).length},{key:"read",label:"Read",count:e.filter(e=>"read"===e.status).length},{key:"replied",label:"Replied",count:e.filter(e=>"replied"===e.status).length}].map(e=>(0,a.jsxs)("button",{onClick:()=>N(e.key),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat(j===e.key?"border-cyan-500 text-cyan-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label," (",e.count,")"]},e.key))})}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:0===Z.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No messages found for the selected filter."})]}):Z.map(e=>(0,a.jsx)("div",{onClick:()=>k(e),className:"p-6 hover:bg-gray-50 cursor-pointer ".concat("new"===e.status?"bg-blue-50":""," ").concat((null==f?void 0:f.id)===e.id?"bg-cyan-50 border-l-4 border-cyan-500":""),children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:e.subject}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(M(e.status)),children:[C(e.status),(0,a.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),e.name]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-1"}),e.email]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-1"}),new Date(e.created_at).toLocaleDateString()]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.message})]})})},e.id))})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:f?(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Message Details"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("select",{value:f.status,onChange:e=>v(f.id,e.target.value),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[(0,a.jsx)("option",{value:"new",children:"New"}),(0,a.jsx)("option",{value:"read",children:"Read"}),(0,a.jsx)("option",{value:"replied",children:"Replied"})]}),(0,a.jsx)("button",{onClick:()=>w(f.id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Subject"}),(0,a.jsx)("p",{className:"text-gray-900",children:f.subject})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"From"}),(0,a.jsx)("p",{className:"text-gray-900",children:f.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:f.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Date"}),(0,a.jsx)("p",{className:"text-gray-900",children:new Date(f.created_at).toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Message"}),(0,a.jsx)("div",{className:"mt-2 p-4 bg-gray-50 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap",children:f.message})})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,a.jsxs)("a",{href:"mailto:".concat(f.email,"?subject=Re: ").concat(f.subject,"&body=Hello ").concat(f.name,",%0D%0A%0D%0AThank you for contacting us.%0D%0A%0D%0A"),className:"w-full bg-cyan-600 text-white px-4 py-2 rounded-md hover:bg-cyan-700 flex items-center justify-center",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Reply via Email"]})})]})]}):(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,a.jsx)("p",{children:"Select a message to view details"})]})})})]})]})}},7060:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(7437),r=t(7648),l=t(9637),n=t(407);function c(e){let{items:s}=e;return(0,a.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,a.jsx)("li",{children:(0,a.jsxs)(r.default,{href:"/admin",className:"text-gray-400 hover:text-gray-500 flex items-center",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Admin"})]})}),s.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 text-gray-400 mx-2"}),e.href&&t<s.length-1?(0,a.jsx)(r.default,{href:e.href,className:"text-sm font-medium text-gray-500 hover:text-gray-700",children:e.name}):(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]},e.name))]})})}},6151:function(e,s,t){"use strict";t.d(s,{O:function(){return n}});var a=t(6580);let r="https://ilxfqrxybtcftioizoan.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseGZxcnh5YnRjZnRpb2l6b2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTg5MjMsImV4cCI6MjA2OTQzNDkyM30.Jhjy7136xlqHcVjeCGPDvh4Ofpio3a09Y2fFu2Sqqh0";r||console.warn("Supabase URL not configured properly. Using fallback configuration."),l||console.warn("Supabase Anon Key not configured properly. Using fallback configuration.");let n=(0,a.eI)(r||"https://placeholder.supabase.co",l||"placeholder-key")},9763:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{color:c="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:m="",children:x,...u}=t;return(0,a.createElement)("svg",{ref:n,...r,width:i,height:i,stroke:c,strokeWidth:o?24*Number(d)/Number(i):d,className:["lucide","lucide-".concat(l(e)),m].join(" "),...u},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(x)?x:[x]])});return t.displayName="".concat(e),t}},1047:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},5302:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},407:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2208:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9637:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},9345:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2718:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},8930:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5523:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"RouterContext",{enumerable:!0,get:function(){return a}});let a=t(7043)._(t(2265)).default.createContext(null)}},function(e){e.O(0,[6580,9064,7648,2971,2117,1744],function(){return e(e.s=1249)}),_N_E=e.O()}]);