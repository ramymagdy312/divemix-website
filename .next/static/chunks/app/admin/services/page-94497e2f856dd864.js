(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7838],{26621:function(e,s,r){Promise.resolve().then(r.bind(r,95996))},95996:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return p}});var t=r(57437),a=r(2265),l=r(86151),i=r(99397),n=r(73247),c=r(15868),d=r(18930),o=r(29525),h=r(27648),m=r(69064),x=r(92595),u=r(81973),f=r(41875),j=r(34029),v=r(53190),N=r(27360);function p(){let[e,s]=(0,a.useState)([]),[r,p]=(0,a.useState)(!0),[b,w]=(0,a.useState)("");(0,a.useEffect)(()=>{g()},[]);let g=async()=>{try{let{data:e,error:r}=await l.O.from("services").select("*").order("display_order",{ascending:!0});if(r)throw r;s(e||[])}catch(e){console.error("Error fetching services:",e),s([])}finally{p(!1)}},y=async r=>{if(confirm("Are you sure you want to delete this service?"))try{let{error:t}=await l.O.from("services").delete().eq("id",r);if(t)throw t;s(e.filter(e=>e.id!==r))}catch(e){console.error("Error deleting service:",e),m.ZP.error("Error deleting service")}},C=e.filter(e=>e.name.toLowerCase().includes(b.toLowerCase())||e.description.toLowerCase().includes(b.toLowerCase()));return r?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Services Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage all company services"})]}),(0,t.jsx)(x.z,{asChild:!0,children:(0,t.jsxs)(h.default,{href:"/admin/services/new",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Add New Service"]})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(u.I,{placeholder:"Search services...",className:"pl-10",value:b,onChange:e=>w(e.target.value)})]}),(0,t.jsxs)(j.Zb,{children:[(0,t.jsxs)(j.Ol,{children:[(0,t.jsx)(j.ll,{children:"Services"}),(0,t.jsxs)(j.SZ,{children:[C.length," service",1!==C.length?"s":""," found"]})]}),(0,t.jsxs)(j.aY,{children:[(0,t.jsxs)(v.iA,{children:[(0,t.jsx)(v.xD,{children:(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.ss,{children:"Service"}),(0,t.jsx)(v.ss,{children:"Status"}),(0,t.jsx)(v.ss,{children:"Features"}),(0,t.jsx)(v.ss,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(v.RM,{children:C.map(e=>(0,t.jsxs)(v.SC,{children:[(0,t.jsx)(v.pj,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"h-12 w-12 bg-primary/10 rounded-md flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-primary font-semibold text-lg",children:e.icon})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground max-w-md truncate",children:e.description})]})]})}),(0,t.jsx)(v.pj,{children:(0,t.jsx)(f.C,{variant:e.is_active?"default":"destructive",children:e.is_active?"Active":"Inactive"})}),(0,t.jsx)(v.pj,{children:(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.features.length," feature",1!==e.features.length?"s":""]})}),(0,t.jsx)(v.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,t.jsx)(x.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsx)(h.default,{href:"/admin/services/".concat(e.id,"/edit"),children:(0,t.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.vW,{asChild:!0,children:(0,t.jsx)(x.z,{variant:"ghost",size:"sm",children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(N._T,{children:[(0,t.jsxs)(N.fY,{children:[(0,t.jsx)(N.f$,{children:"Are you sure?"}),(0,t.jsxs)(N.yT,{children:['This action cannot be undone. This will permanently delete the service "',e.name,'".']})]}),(0,t.jsxs)(N.xo,{children:[(0,t.jsx)(N.le,{children:"Cancel"}),(0,t.jsx)(N.OL,{onClick:()=>y(e.id),children:"Delete"})]})]})]})]})})]},e.id))})]}),0===C.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-semibold",children:"No services found"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:b?"Try adjusting your search terms.":"Get started by creating a new service."}),!b&&(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(x.z,{asChild:!0,children:(0,t.jsxs)(h.default,{href:"/admin/services/new",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Add Your First Service"]})})})]})]})]})]})}},53190:function(e,s,r){"use strict";r.d(s,{RM:function(){return c},SC:function(){return d},iA:function(){return i},pj:function(){return h},ss:function(){return o},xD:function(){return n}});var t=r(57437),a=r(2265),l=r(94508);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",r),...a})})});i.displayName="Table";let n=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",r),...a})});n.displayName="TableHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...a})});c.displayName="TableBody",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});d.displayName="TableRow";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});o.displayName="TableHead";let h=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});h.displayName="TableCell",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},29525:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(39763).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])}},function(e){e.O(0,[6580,1451,9064,5569,7514,9027,7015,2971,2117,1744],function(){return e(e.s=26621)}),_N_E=e.O()}]);