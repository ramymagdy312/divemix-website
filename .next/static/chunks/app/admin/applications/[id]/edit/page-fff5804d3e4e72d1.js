(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{15502:function(e,s,a){Promise.resolve().then(a.bind(a,90657))},90657:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var i=a(57437),t=a(2265),c=a(99376),n=a(86151),l=a(32660),r=a(15868),d=a(27648),o=a(69064),p=a(92595),u=a(41875),h=a(47778),m=a(34029),x=a(89321);function f(e){let{params:s}=e,a=(0,c.useRouter)(),[f,j]=(0,t.useState)(!1),[N,v]=(0,t.useState)(null),[y,w]=(0,t.useState)(!0);(0,t.useEffect)(()=>{g()},[s.id]);let g=async()=>{try{let{data:e,error:a}=await n.O.from("applications").select("*").eq("id",s.id).single();if(a){console.error("Error fetching application:",a),o.ZP.error("Error fetching application data");return}v(e)}catch(e){console.error("Error fetching application:",e),o.ZP.error("Error fetching application data")}finally{w(!1)}},E=async e=>{j(!0);try{let{error:i}=await n.O.from("applications").update(e).eq("id",s.id);if(i){console.error("Error updating application:",i),o.ZP.error("Error updating application");return}o.ZP.success("Application updated successfully!"),a.push("/admin/applications")}catch(e){console.error("Error updating application:",e),o.ZP.error("Error updating application")}finally{j(!1)}};return y?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(h.O,{className:"h-8 w-48"}),(0,i.jsx)(h.O,{className:"h-4 w-96"})]}),(0,i.jsx)(h.O,{className:"h-6 w-20"})]}),(0,i.jsxs)(m.Zb,{children:[(0,i.jsxs)(m.Ol,{children:[(0,i.jsx)(h.O,{className:"h-6 w-40"}),(0,i.jsx)(h.O,{className:"h-4 w-64"})]}),(0,i.jsxs)(m.aY,{className:"space-y-4",children:[(0,i.jsx)(h.O,{className:"h-10 w-full"}),(0,i.jsx)(h.O,{className:"h-24 w-full"})]})]})]}):N?(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"flex items-center space-x-2",children:(0,i.jsx)(p.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,i.jsxs)(d.default,{href:"/admin/applications",children:[(0,i.jsx)(l.Z,{className:"h-4 w-4 mr-1"}),"Back to Applications"]})})}),(0,i.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Application"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Edit application data"}),N&&(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Application ID: ",N.id," â€¢ ",N.name]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)(u.C,{variant:"secondary",children:"Live"}),(0,i.jsxs)(u.C,{variant:"outline",children:[(0,i.jsx)(r.Z,{className:"h-3 w-3 mr-1"}),"Editing"]})]})]}),(0,i.jsx)(x.Z,{initialData:N,onSubmit:E,loading:f})]}):(0,i.jsx)("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:(0,i.jsxs)(m.Zb,{className:"w-full max-w-md",children:[(0,i.jsxs)(m.Ol,{className:"text-center",children:[(0,i.jsx)(m.ll,{children:"Application Not Found"}),(0,i.jsx)(m.SZ,{children:"The requested application could not be found."})]}),(0,i.jsx)(m.aY,{children:(0,i.jsx)(p.z,{asChild:!0,className:"w-full",children:(0,i.jsxs)(d.default,{href:"/admin/applications",children:[(0,i.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Back to Applications"]})})})]})})}},47778:function(e,s,a){"use strict";a.d(s,{O:function(){return c}});var i=a(57437),t=a(22835);function c(e){let{className:s,...a}=e;return(0,i.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",s),...a})}},15868:function(e,s,a){"use strict";a.d(s,{Z:function(){return i}});let i=(0,a(39763).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])}},function(e){e.O(0,[6580,1451,3145,9064,5569,2800,4501,4072,2971,2117,1744],function(){return e(e.s=15502)}),_N_E=e.O()}]);