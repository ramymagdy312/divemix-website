(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9109],{6076:function(e,s,r){Promise.resolve().then(r.bind(r,4616))},4616:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return N}});var t=r(7437),a=r(2265),n=r(6151),l=r(2595),i=r(4029),c=r(1973),d=r(6393),o=r(5353),m=r(9665),u=r(9397),x=r(3774),h=r(8930),f=r(9064),p=r(6771),g=r(7060),j=r(7976),v=r(7609);function N(){let[e,s]=(0,a.useState)(null),[r,N]=(0,a.useState)(!0),[b,y]=(0,a.useState)(!1),[w,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{C()},[]);let C=async()=>{try{let{data:e,error:r}=await n.O.from("contact_page").select("*").single();r?(console.error("Error fetching contact data:",r),s(null)):s(e)}catch(e){console.error("Error:",e),s(null)}finally{N(!1)}},k=async()=>{y(!0);try{let{error:s}=await n.O.from("contact_page").upsert({...e||{},updated_at:new Date().toISOString()});s?(console.error("Error saving contact data:",s),f.ZP.error("Error saving data")):(_(!1),f.ZP.success("Contact page updated successfully!"))}catch(e){console.error("Error:",e),f.ZP.error("Error saving data")}finally{y(!1)}},Z=r=>{e&&s({...e,branches:((null==e?void 0:e.branches)||[]).filter((e,s)=>s!==r)})},I=e=>{try{let s=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(s)return{lat:parseFloat(s[1]),lng:parseFloat(s[2])};let r=e.match(/!3d(-?\d+\.\d+)!4d(-?\d+\.\d+)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])}}catch(e){console.error("Error extracting coordinates:",e)}return null},S=(r,t,a)=>{if(!e)return;let n=[...(null==e?void 0:e.branches)||[]];if("lat"===t||"lng"===t)n[r]={...n[r],coordinates:{...n[r].coordinates,[t]:Number(a)}};else if("map_url"===t){let e=I(a);n[r]={...n[r],[t]:a,...e&&{coordinates:{lat:e.lat,lng:e.lng}}}}else n[r]={...n[r],[t]:a};s({...e,branches:n})};return r?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Z,{items:[{name:"Pages"},{name:"Contact Page"}]}),(0,t.jsx)(j.Z,{title:"Contact Page",editing:w,setEditing:_,saving:b,handleSave:k}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(p.Z,{data:e,editing:w,setData:s}),(0,t.jsx)(v.Z,{editing:w,data:e,setData:s}),(0,t.jsx)(i.Zb,{children:(0,t.jsxs)(i.Ol,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ll,{children:"Branch Locations"}),(0,t.jsx)(i.SZ,{children:"Manage your company branch locations and contact information"})]}),w&&(0,t.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>{e&&s({...e,branches:[...null==e?void 0:e.branches,{name:"",address:"",phone:"",email:"",show_in_footer:!1,map_url:"",coordinates:{lat:0,lng:0}}]})},children:[(0,t.jsx)(u.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Add Branch"})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:null==e?void 0:e.branches.map((e,s)=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.Z,{className:"h-5 w-5 text-cyan-600"}),(0,t.jsxs)("h3",{className:"text-lg font-medium",children:["Branch ",s+1]})]}),w&&(0,t.jsx)("button",{onClick:()=>Z(s),className:"text-red-600 hover:text-red-800",children:(0,t.jsx)(h.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{children:"Branch Name"}),w?(0,t.jsx)(c.I,{type:"text",value:e.name,onChange:e=>S(s,"name",e.target.value)}):(0,t.jsx)("p",{className:"mt-6 border-l-2 pl-6 italic",children:e.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{children:"Show in Footer"}),w?(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsx)(o.r,{checked:e.show_in_footer||!1,onCheckedChange:e=>S(s,"show_in_footer",e)}),(0,t.jsx)(d._,{className:"text-sm",children:"Display this branch in the website footer"})]}):(0,t.jsx)("p",{className:"text-gray-900",children:e.show_in_footer?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Shown in Footer"}):(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Hidden from Footer"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{children:"Phone"}),w?(0,t.jsx)(c.I,{type:"tel",value:e.phone,onChange:e=>S(s,"phone",e.target.value)}):(0,t.jsx)("p",{className:"mt-6 border-l-2 pl-6 italic",children:e.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{children:"Email"}),w?(0,t.jsx)(c.I,{type:"email",value:e.email,onChange:e=>S(s,"email",e.target.value)}):(0,t.jsx)("p",{className:"mt-6 border-l-2 pl-6 italic",children:e.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{children:"Address"}),w?(0,t.jsx)(m.g,{value:e.address,onChange:e=>S(s,"address",e.target.value),rows:2}):(0,t.jsx)("p",{className:"mt-6 border-l-2 pl-6 italic",children:e.address})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(d._,{children:"Google Maps Link"}),w?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.I,{type:"url",value:e.map_url||"",onChange:e=>S(s,"map_url",e.target.value),placeholder:"https://www.google.com/maps/place/..."}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Paste the Google Maps link here. Coordinates will be extracted automatically."})]}):(0,t.jsx)("div",{className:"flex items-center space-x-2",children:e.map_url?(0,t.jsx)("a",{href:e.map_url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 hover:text-cyan-700 underline",children:"View on Google Maps"}):(0,t.jsx)("p",{className:"text-gray-500",children:"No map link provided"})})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(d._,{children:"Coordinates (for map display)"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{className:"text-xs text-muted-foreground",children:"Latitude"}),w?(0,t.jsx)(c.I,{type:"number",step:"any",value:e.coordinates.lat,onChange:e=>S(s,"lat",e.target.value)}):(0,t.jsx)("p",{className:"mt-6 border-l-2 pl-6 italic",children:e.coordinates.lat})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d._,{className:"text-xs text-muted-foreground",children:"Longitude"}),w?(0,t.jsx)(c.I,{type:"number",step:"any",value:e.coordinates.lng,onChange:e=>S(s,"lng",e.target.value)}):(0,t.jsx)("p",{className:"mt-6 border-l-2 pl-6 italic",children:e.coordinates.lng})]})]})]})]},s))})]})})]})]})}},7609:function(e,s,r){"use strict";r.d(s,{Z:function(){return c}});var t=r(7437),a=r(4029),n=r(6393),l=r(1973),i=r(9665);function c(e){let{editing:s,data:r,setData:c}=e;return(0,t.jsxs)(a.Zb,{children:[(0,t.jsxs)(a.Ol,{children:[(0,t.jsx)(a.ll,{children:"Introduction Section"}),(0,t.jsx)(a.SZ,{children:"Configure the introduction content that appears below the hero section"})]}),(0,t.jsxs)(a.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n._,{htmlFor:"intro-title",children:"Intro Title"}),s?(0,t.jsx)(l.I,{id:"intro-title",type:"text",value:r.intro_title,onChange:e=>c({...r,intro_title:e.target.value})}):(0,t.jsx)("p",{className:"text-sm font-medium",children:r.intro_title})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n._,{htmlFor:"intro-description",children:"Intro Description"}),s?(0,t.jsx)(i.g,{id:"intro-description",value:r.intro_description,onChange:e=>c({...r,intro_description:e.target.value}),rows:4}):(0,t.jsx)("p",{className:"text-sm",children:r.intro_description})]})]})]})}},6771:function(e,s,r){"use strict";r.d(s,{Z:function(){return o}});var t=r(7437),a=r(4029),n=r(1973),l=r(6393),i=r(9665),c=r(3145),d=r(4501);function o(e){let{data:s,editing:r,setData:o}=e;return(0,t.jsxs)(a.Zb,{children:[(0,t.jsxs)(a.Ol,{children:[(0,t.jsx)(a.ll,{children:"Basic Information"}),(0,t.jsx)(a.SZ,{children:"Configure the main content and hero section of the page"})]}),(0,t.jsxs)(a.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l._,{htmlFor:"page-title",children:"Page Title"}),r?(0,t.jsx)(n.I,{id:"page-title",type:"text",value:s.title,onChange:e=>o({...s,title:e.target.value})}):(0,t.jsx)("p",{className:"text-sm font-medium",children:s.title})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l._,{children:"Hero Image"}),r?(0,t.jsx)(d.Z,{image:s.hero_image,onImageChange:e=>o({...s,hero_image:e}),label:"Hero Image"}):(0,t.jsx)("div",{children:s.hero_image?(0,t.jsx)("div",{className:"relative w-full h-32 rounded-lg overflow-hidden border",children:(0,t.jsx)(c.default,{src:s.hero_image,alt:"Hero image",fill:!0,className:"object-cover"})}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"No image uploaded"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l._,{htmlFor:"description",children:"Description"}),r?(0,t.jsx)(i.g,{id:"description",value:s.description,onChange:e=>o({...s,description:e.target.value}),rows:3}):(0,t.jsx)("p",{className:"text-sm",children:s.description})]})]})]})}},7060:function(e,s,r){"use strict";r.d(s,{Z:function(){return i}});var t=r(7437),a=r(7648),n=r(9637),l=r(407);function i(e){let{items:s}=e;return(0,t.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:(0,t.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(a.default,{href:"/admin",className:"text-gray-400 hover:text-gray-500 flex items-center",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Admin"})]})}),s.map((e,r)=>(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 text-gray-400 mx-2"}),e.href&&r<s.length-1?(0,t.jsx)(a.default,{href:e.href,className:"text-sm font-medium text-gray-500 hover:text-gray-700",children:e.name}):(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]},e.name))]})})}},7976:function(e,s,r){"use strict";r.d(s,{Z:function(){return d}});var t=r(7437),a=r(8736),n=r(2489),l=r(3229),i=r(5868),c=r(2595);function d(e){let{title:s,editing:r,setEditing:d,saving:o=!1,handleSave:m}=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[(0,t.jsx)(a.Z,{className:"h-8 w-8 mr-3 text-primary"}),s," Management"]}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Manage the content of your ",s.toLowerCase()]})]}),(0,t.jsx)("div",{className:"flex space-x-2",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.z,{variant:"outline",onClick:()=>d(!1),children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,t.jsxs)(c.z,{onClick:m,disabled:o,children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save Changes"]})]}):(0,t.jsxs)(c.z,{onClick:()=>d(!0),children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Edit Page"]})})]})}},4029:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var t=r(7437),a=r(2265),n=r(2835);let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},1973:function(e,s,r){"use strict";r.d(s,{I:function(){return l}});var t=r(7437),a=r(2265),n=r(2835);let l=a.forwardRef((e,s)=>{let{className:r,type:a,...l}=e;return(0,t.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...l})});l.displayName="Input"},6393:function(e,s,r){"use strict";r.d(s,{_:function(){return d}});var t=r(7437),a=r(2265),n=r(6394),l=r(535),i=r(2835);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.f,{ref:s,className:(0,i.cn)(c(),r),...a})});d.displayName=n.f.displayName},5353:function(e,s,r){"use strict";r.d(s,{r:function(){return i}});var t=r(7437),a=r(2265),n=r(721),l=r(2835);let i=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(n.fC,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...a,ref:s,children:(0,t.jsx)(n.bU,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=n.fC.displayName},9665:function(e,s,r){"use strict";r.d(s,{g:function(){return l}});var t=r(7437),a=r(2265),n=r(2835);let l=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...a})});l.displayName="Textarea"}},function(e){e.O(0,[6844,7648,5569,3145,9064,3624,2568,2971,2117,1744],function(){return e(e.s=6076)}),_N_E=e.O()}]);