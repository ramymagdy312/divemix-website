(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4996],{4118:function(e,r,s){Promise.resolve().then(s.bind(s,7285))},7285:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return j}});var t=s(7437),n=s(2265),a=s(9376),i=s(6151),l=s(2660),d=s(5805),o=s(3229),c=s(7648),u=s(7060),m=s(4501),f=s(9064),x=s(2595),h=s(1973),p=s(6393),g=s(9665),v=s(5353),b=s(4029);function j(){let e=(0,a.useRouter)(),r=(0,a.useParams)().id,[s,j]=(0,n.useState)(!0),[y,N]=(0,n.useState)(!1),[w,_]=(0,n.useState)(null),[k,C]=(0,n.useState)({name:"",logo_url:"",website_url:"",description:"",display_order:1,is_active:!0}),Z=(0,n.useCallback)(async()=>{try{let{data:s,error:t}=await i.O.from("vendors").select("*").eq("id",r).single();if(t){console.error("Error fetching vendor:",t),f.ZP.error("Failed to load vendor"),e.push("/admin/vendors");return}_(s),C({name:s.name,logo_url:s.logo_url,website_url:s.website_url||"",description:s.description||"",display_order:s.display_order,is_active:s.is_active})}catch(r){console.error("Error:",r),f.ZP.error("Failed to load vendor"),e.push("/admin/vendors")}finally{j(!1)}},[r,e]);(0,n.useEffect)(()=>{r&&Z()},[r,Z]);let R=async s=>{s.preventDefault(),N(!0);try{if(!k.name.trim()){f.ZP.error("Vendor name is required");return}if(!k.logo_url.trim()){f.ZP.error("Vendor logo is required");return}let{error:s}=await i.O.from("vendors").update({name:k.name.trim(),logo_url:k.logo_url,website_url:k.website_url.trim()||null,description:k.description.trim()||null,display_order:k.display_order,is_active:k.is_active,updated_at:new Date().toISOString()}).eq("id",r);if(s){console.error("Error updating vendor:",s),f.ZP.error("Failed to update vendor");return}f.ZP.success("Vendor updated successfully!"),e.push("/admin/vendors")}catch(e){console.error("Error:",e),f.ZP.error("Failed to update vendor")}finally{N(!1)}};return s?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-cyan-600"})}):w?(0,t.jsxs)("div",{children:[(0,t.jsx)(u.Z,{items:[{name:"Vendors",href:"/admin/vendors"},{name:w.name}]}),(0,t.jsxs)("div",{className:"flex items-center mb-8",children:[(0,t.jsx)(x.z,{variant:"ghost",size:"sm",asChild:!0,className:"mr-4",children:(0,t.jsx)(c.default,{href:"/admin/vendors",children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[(0,t.jsx)(d.Z,{className:"h-8 w-8 mr-3 text-primary"}),"Edit Vendor"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Update vendor information and settings"})]})]}),(0,t.jsxs)("form",{onSubmit:R,className:"space-y-8",children:[(0,t.jsxs)(b.Zb,{children:[(0,t.jsxs)(b.Ol,{children:[(0,t.jsx)(b.ll,{children:"Vendor Information"}),(0,t.jsx)(b.SZ,{children:"Update the basic information for this vendor"})]}),(0,t.jsxs)(b.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p._,{htmlFor:"vendor-name",children:"Vendor Name *"}),(0,t.jsx)(h.I,{id:"vendor-name",type:"text",required:!0,value:k.name,onChange:e=>C({...k,name:e.target.value}),placeholder:"Enter vendor name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p._,{htmlFor:"website-url",children:"Website URL"}),(0,t.jsx)(h.I,{id:"website-url",type:"url",value:k.website_url,onChange:e=>C({...k,website_url:e.target.value}),placeholder:"https://example.com"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p._,{htmlFor:"display-order",children:"Display Order"}),(0,t.jsx)(h.I,{id:"display-order",type:"number",min:"1",value:k.display_order,onChange:e=>C({...k,display_order:parseInt(e.target.value)||1})}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Lower numbers appear first in the slider"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p._,{children:"Status"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(v.r,{id:"is_active",checked:k.is_active,onCheckedChange:e=>C({...k,is_active:e})}),(0,t.jsx)(p._,{htmlFor:"is_active",children:"Active (visible on homepage)"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 space-y-2",children:[(0,t.jsx)(p._,{htmlFor:"description",children:"Description"}),(0,t.jsx)(g.g,{id:"description",rows:3,value:k.description,onChange:e=>C({...k,description:e.target.value}),placeholder:"Brief description of the vendor or partnership"})]})]})]}),(0,t.jsxs)(b.Zb,{children:[(0,t.jsxs)(b.Ol,{children:[(0,t.jsx)(b.ll,{children:"Vendor Logo"}),(0,t.jsx)(b.SZ,{children:"Upload or update the vendor's logo image"})]}),(0,t.jsxs)(b.aY,{children:[(0,t.jsx)(m.Z,{image:k.logo_url,onImageChange:e=>C({...k,logo_url:e}),label:"Vendor Logo *"}),(0,t.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Logo Guidelines:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"• Recommended size: 200x100 pixels or similar aspect ratio"}),(0,t.jsx)("li",{children:"• Format: PNG with transparent background preferred"}),(0,t.jsx)("li",{children:"• High quality logo for best display results"}),(0,t.jsx)("li",{children:"• Logo will be displayed in grayscale by default, color on hover"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(x.z,{variant:"outline",asChild:!0,children:(0,t.jsx)(c.default,{href:"/admin/vendors",children:"Cancel"})}),(0,t.jsxs)(x.z,{type:"submit",disabled:y,children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),y?"Updating...":"Update Vendor"]})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Vendor not found"}),(0,t.jsx)(c.default,{href:"/admin/vendors",className:"text-cyan-600 hover:text-cyan-700",children:"Back to Vendors"})]})}},7060:function(e,r,s){"use strict";s.d(r,{Z:function(){return l}});var t=s(7437),n=s(7648),a=s(9637),i=s(407);function l(e){let{items:r}=e;return(0,t.jsx)("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:(0,t.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(n.default,{href:"/admin",className:"text-gray-400 hover:text-gray-500 flex items-center",children:[(0,t.jsx)(a.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Admin"})]})}),r.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 text-gray-400 mx-2"}),e.href&&s<r.length-1?(0,t.jsx)(n.default,{href:e.href,className:"text-sm font-medium text-gray-500 hover:text-gray-700",children:e.name}):(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]},e.name))]})})}},4029:function(e,r,s){"use strict";s.d(r,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},ll:function(){return d}});var t=s(7437),n=s(2265),a=s(2835);let i=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let l=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let d=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle";let o=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",s),...n})});o.displayName="CardDescription";let c=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",s),...n})});c.displayName="CardContent",n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},1973:function(e,r,s){"use strict";s.d(r,{I:function(){return i}});var t=s(7437),n=s(2265),a=s(2835);let i=n.forwardRef((e,r)=>{let{className:s,type:n,...i}=e;return(0,t.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...i})});i.displayName="Input"},6393:function(e,r,s){"use strict";s.d(r,{_:function(){return o}});var t=s(7437),n=s(2265),a=s(6394),i=s(535),l=s(2835);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)(a.f,{ref:r,className:(0,l.cn)(d(),s),...n})});o.displayName=a.f.displayName},5353:function(e,r,s){"use strict";s.d(r,{r:function(){return l}});var t=s(7437),n=s(2265),a=s(721),i=s(2835);let l=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)(a.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:r,children:(0,t.jsx)(a.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=a.fC.displayName},9665:function(e,r,s){"use strict";s.d(r,{g:function(){return i}});var t=s(7437),n=s(2265),a=s(2835);let i=n.forwardRef((e,r)=>{let{className:s,...n}=e;return(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...n})});i.displayName="Textarea"}},function(e){e.O(0,[6844,7648,5569,3145,9064,2443,2568,2971,2117,1744],function(){return e(e.s=4118)}),_N_E=e.O()}]);