(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3606],{8404:function(e,t,a){Promise.resolve().then(a.bind(a,1139))},1139:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),r=a(2265),n=a(6151);function o(){let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)([]),[l,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u()},[]);let u=async()=>{d(!0);let e=[];for(let t of["product_categories","products"])try{let{data:a,error:s,count:r}=await n.O.from(t).select("*",{count:"exact",head:!0});s?e.push({name:t,exists:!1,error:s.message}):e.push({name:t,exists:!0,count:r||0})}catch(a){e.push({name:t,exists:!1,error:a.message})}c(e)},p=async()=>{o(!0),t("\uD83D\uDD0D Checking Products database tables...\n\n");try{t(e=>e+"1. Checking product_categories table...\n");try{let{data:e,error:a}=await n.O.from("product_categories").select("*").limit(1);a?t(e=>e+"   ❌ product_categories table error: ".concat(a.message,"\n")):(t(e=>e+"   ✅ product_categories table exists\n"),t(t=>t+"   \uD83D\uDCCA Sample data: ".concat((null==e?void 0:e.length)||0," records found\n")))}catch(e){t(t=>t+"   ❌ product_categories table not accessible: ".concat(e.message,"\n"))}t(e=>e+"\n2. Checking products table...\n");try{let{data:e,error:a}=await n.O.from("products").select("*").limit(1);a?t(e=>e+"   ❌ products table error: ".concat(a.message,"\n")):(t(e=>e+"   ✅ products table exists\n"),t(t=>t+"   \uD83D\uDCCA Sample data: ".concat((null==e?void 0:e.length)||0," records found\n")))}catch(e){t(t=>t+"   ❌ products table not accessible: ".concat(e.message,"\n"))}t(e=>e+"\n3. Checking products_page table...\n");try{let{data:e,error:a}=await n.O.from("products_page").select("*").limit(1);a?t(e=>e+"   ❌ products_page table error: ".concat(a.message,"\n")):(t(e=>e+"   ✅ products_page table exists\n"),t(t=>t+"   \uD83D\uDCCA Sample data: ".concat((null==e?void 0:e.length)||0," records found\n")))}catch(e){t(t=>t+"   ❌ products_page table not accessible: ".concat(e.message,"\n"))}t(e=>e+"\n4. Checking all available tables...\n");try{let{data:e,error:a}=await n.O.from("information_schema.tables").select("table_name").eq("table_schema","public");if(a)t(e=>e+"   ⚠️  Could not list tables: ".concat(a.message,"\n"));else{let a=(null==e?void 0:e.map(e=>e.table_name))||[];t(e=>e+"   \uD83D\uDCCB Available tables: ".concat(a.join(", "),"\n"));let s=a.filter(e=>e.toLowerCase().includes("product")||e.toLowerCase().includes("categor"));s.length>0?t(e=>e+"   \uD83C\uDFAF Product-related tables: ".concat(s.join(", "),"\n")):t(e=>e+"   ⚠️  No product-related tables found\n")}}catch(e){t(t=>t+"   ❌ Could not check tables: ".concat(e.message,"\n"))}t(e=>e+"\n5. Recommendations:\n"),t(e=>e+"   \uD83D\uDCA1 If tables are missing, you need to:\n"),t(e=>e+"   • Create product_categories table\n"),t(e=>e+"   • Create products table\n"),t(e=>e+"   • Create products_page table (optional)\n"),t(e=>e+"   • Add sample data to test\n"),t(e=>e+"\n\uD83C\uDF89 Database check complete!\n")}catch(e){t(t=>t+"\n❌ Database check failed: ".concat(e.message,"\n"))}finally{o(!1)}};return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"\uD83D\uDD0D Check Products Database"}),(0,s.jsxs)("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"\uD83D\uDEA8 Products Page Issue"}),(0,s.jsx)("p",{className:"text-red-700 mb-2",children:"The products page is not loading data from the database because the required tables are missing or not accessible."}),(0,s.jsxs)("div",{className:"text-sm text-red-600",children:[(0,s.jsx)("strong",{children:"Required tables:"}),(0,s.jsxs)("ul",{className:"mt-1 space-y-1",children:[(0,s.jsx)("li",{children:"• product_categories - for product categories"}),(0,s.jsx)("li",{children:"• products - for individual products"}),(0,s.jsx)("li",{children:"• products_page - for page content (optional)"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("button",{onClick:p,disabled:a,className:"bg-blue-600 text-white px-6 py-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 text-left",children:[(0,s.jsx)("div",{className:"font-semibold mb-1",children:"\uD83D\uDD0D Check Database Tables"}),(0,s.jsx)("div",{className:"text-sm opacity-90",children:"Verify which tables exist and their status"})]}),(0,s.jsxs)("button",{onClick:()=>{t("\n-- \uD83C\uDFD7️ Create Products Database Tables\n-- Run these commands in your Supabase SQL Editor\n\n-- 1. Create product_categories table\nCREATE TABLE IF NOT EXISTS product_categories (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  slug VARCHAR(255) UNIQUE NOT NULL,\n  image_url TEXT,\n  is_active BOOLEAN DEFAULT true,\n  display_order INTEGER DEFAULT 0,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- 2. Create products table\nCREATE TABLE IF NOT EXISTS products (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  short_description TEXT,\n  image_url TEXT,\n  category_id UUID REFERENCES product_categories(id),\n  price DECIMAL(10,2),\n  specifications JSONB,\n  features TEXT[],\n  is_active BOOLEAN DEFAULT true,\n  display_order INTEGER DEFAULT 0,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- 3. Create products_page table (for page content)\nCREATE TABLE IF NOT EXISTS products_page (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  title VARCHAR(255) DEFAULT 'Our Products',\n  description TEXT DEFAULT 'Discover our comprehensive range of products',\n  hero_image TEXT DEFAULT 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=2000',\n  intro_title VARCHAR(255) DEFAULT 'Product Categories',\n  intro_description TEXT DEFAULT 'Browse our product categories to find exactly what you need',\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\n-- 4. Insert default products_page data\nINSERT INTO products_page (title, description, hero_image, intro_title, intro_description)\nVALUES (\n  'Our Products',\n  'Discover our comprehensive range of high-quality products designed to meet your needs',\n  'https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=2000',\n  'Product Categories',\n  'Browse our product categories to find exactly what you need'\n) ON CONFLICT DO NOTHING;\n\n-- 5. Insert sample product categories\nINSERT INTO product_categories (name, description, slug, image_url, display_order) VALUES\n('Diving Equipment', 'Professional diving gear and equipment for all levels', 'diving-equipment', 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?auto=format&fit=crop&w=800', 1),\n('Safety Gear', 'Essential safety equipment for underwater activities', 'safety-gear', 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?auto=format&fit=crop&w=800', 2),\n('Underwater Cameras', 'Capture your underwater adventures with professional cameras', 'underwater-cameras', 'https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?auto=format&fit=crop&w=800', 3),\n('Accessories', 'Essential accessories for diving and underwater activities', 'accessories', 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?auto=format&fit=crop&w=800', 4)\nON CONFLICT (slug) DO NOTHING;\n\n-- 6. Insert sample products\nINSERT INTO products (name, description, short_description, category_id, price, features, display_order) VALUES\n('Professional Diving Mask', 'High-quality diving mask with anti-fog technology', 'Crystal clear vision underwater', (SELECT id FROM product_categories WHERE slug = 'diving-equipment'), 89.99, ARRAY['Anti-fog coating', 'Comfortable silicone skirt', 'Tempered glass lens'], 1),\n('Diving Fins', 'Lightweight and efficient diving fins for better propulsion', 'Enhanced underwater mobility', (SELECT id FROM product_categories WHERE slug = 'diving-equipment'), 65.99, ARRAY['Lightweight design', 'Efficient blade shape', 'Comfortable foot pocket'], 2),\n('Underwater Safety Light', 'Bright LED safety light for underwater visibility', 'Stay visible and safe underwater', (SELECT id FROM product_categories WHERE slug = 'safety-gear'), 45.99, ARRAY['Waterproof to 100m', 'Long battery life', 'Multiple flash modes'], 1),\n('Waterproof Action Camera', '4K underwater action camera with stabilization', 'Capture stunning underwater footage', (SELECT id FROM product_categories WHERE slug = 'underwater-cameras'), 299.99, ARRAY['4K video recording', 'Image stabilization', 'Waterproof to 30m'], 1)\nON CONFLICT DO NOTHING;\n\n-- 7. Enable Row Level Security (optional)\nALTER TABLE product_categories ENABLE ROW LEVEL SECURITY;\nALTER TABLE products ENABLE ROW LEVEL SECURITY;\nALTER TABLE products_page ENABLE ROW LEVEL SECURITY;\n\n-- 8. Create policies for public read access\nCREATE POLICY \"Public can read product_categories\" ON product_categories FOR SELECT USING (true);\nCREATE POLICY \"Public can read products\" ON products FOR SELECT USING (true);\nCREATE POLICY \"Public can read products_page\" ON products_page FOR SELECT USING (true);\n\n-- 9. Verify the tables were created\nSELECT \n  table_name,\n  (SELECT COUNT(*) FROM information_schema.columns WHERE table_name = t.table_name) as column_count\nFROM information_schema.tables t\nWHERE table_schema = 'public' \nAND table_name IN ('product_categories', 'products', 'products_page')\nORDER BY table_name;\n")},className:"bg-green-600 text-white px-6 py-4 rounded-lg hover:bg-green-700 text-left",children:[(0,s.jsx)("div",{className:"font-semibold mb-1",children:"\uD83C\uDFD7️ Show Create Tables SQL"}),(0,s.jsx)("div",{className:"text-sm opacity-90",children:"Get SQL commands to create missing tables"})]})]}),e&&(0,s.jsxs)("div",{className:"bg-gray-900 text-green-400 p-6 rounded-lg font-mono text-sm mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h2",{className:"text-lg text-white",children:"\uD83D\uDCCB Database Check Results:"}),(0,s.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e),className:"bg-gray-700 text-white px-3 py-1 rounded text-xs hover:bg-gray-600",children:"\uD83D\uDCCB Copy"})]}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap max-h-96 overflow-y-auto",children:e})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"⚠️ Current Issue"}),(0,s.jsxs)("div",{className:"text-sm text-yellow-700 space-y-2",children:[(0,s.jsx)("p",{children:"Products page shows:"}),(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"• Loading spinner"}),(0,s.jsx)("li",{children:"• Empty categories"}),(0,s.jsx)("li",{children:"• Database connection errors"}),(0,s.jsx)("li",{children:"• Missing table errors"})]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"\uD83D\uDD27 Solution Steps"}),(0,s.jsx)("div",{className:"text-sm text-blue-700 space-y-2",children:(0,s.jsxs)("ol",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"1. Check database status"}),(0,s.jsx)("li",{children:"2. Create missing tables"}),(0,s.jsx)("li",{children:"3. Insert sample data"}),(0,s.jsx)("li",{children:"4. Test products page"}),(0,s.jsx)("li",{children:"5. Add real product data"})]})})]}),(0,s.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Expected Result"}),(0,s.jsxs)("div",{className:"text-sm text-green-700 space-y-2",children:[(0,s.jsx)("p",{children:"After fixing:"}),(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsx)("li",{children:"• Products page loads correctly"}),(0,s.jsx)("li",{children:"• Categories display properly"}),(0,s.jsx)("li",{children:"• Search functionality works"}),(0,s.jsx)("li",{children:"• Product details accessible"})]})]})]})]})]})}a(9064)},6151:function(e,t,a){"use strict";a.d(t,{O:function(){return o},e:function(){return i}});var s=a(6580);let r="https://ilxfqrxybtcftioizoan.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseGZxcnh5YnRjZnRpb2l6b2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTg5MjMsImV4cCI6MjA2OTQzNDkyM30.Jhjy7136xlqHcVjeCGPDvh4Ofpio3a09Y2fFu2Sqqh0";r||console.warn("Supabase URL not configured properly. Using fallback configuration."),n||console.warn("Supabase Anon Key not configured properly. Using fallback configuration.");let o=(0,s.eI)(r||"https://placeholder.supabase.co",n||"placeholder-key"),i=()=>(0,s.eI)(r||"https://placeholder.supabase.co",n||"placeholder-key")}},function(e){e.O(0,[6580,9064,2971,2117,1744],function(){return e(e.s=8404)}),_N_E=e.O()}]);