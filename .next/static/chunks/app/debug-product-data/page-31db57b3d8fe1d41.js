(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4989],{365:function(e,s,i){Promise.resolve().then(i.bind(i,1244))},1244:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return d}});var l=i(7437),a=i(2265),t=i(6151),n=i(2451),r=i(407),c=i(3145),o=e=>{let{product:s}=e,i=s.images&&s.images.length>0?s.images:s.image_url?[s.image_url]:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=800"],[t,o]=(0,a.useState)(0),d=s.name||"Unknown Product",h=s.short_description||s.description||s.desc||"No description available";return(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,l.jsxs)("div",{className:"relative h-48",children:[(0,l.jsx)(c.default,{src:i[t],alt:d,fill:!0,className:"object-cover"}),i.length>1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>{o(e=>0===e?i.length-1:e-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 p-1 bg-black/50 rounded-full text-white hover:bg-black/70 transition-colors",children:(0,l.jsx)(n.Z,{className:"h-5 w-5"})}),(0,l.jsx)("button",{onClick:()=>{o(e=>e===i.length-1?0:e+1)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 bg-black/50 rounded-full text-white hover:bg-black/70 transition-colors",children:(0,l.jsx)(r.Z,{className:"h-5 w-5"})})]}),i.length>1&&(0,l.jsx)("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-1",children:i.map((e,s)=>(0,l.jsx)("button",{onClick:()=>o(s),className:"w-2 h-2 rounded-full transition-colors ".concat(s===t?"bg-white":"bg-white/50")},s))})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-2",children:d}),(0,l.jsx)("p",{className:"text-gray-600 line-clamp-2",children:h}),s.features&&s.features.length>0&&(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.features.slice(0,3).map((e,s)=>(0,l.jsx)("span",{className:"inline-block bg-cyan-50 text-cyan-700 text-xs px-2 py-1 rounded",children:e},s)),s.features.length>3&&(0,l.jsxs)("span",{className:"inline-block bg-gray-50 text-gray-500 text-xs px-2 py-1 rounded",children:["+",s.features.length-3," more"]})]})})]})]})};function d(){let[e,s]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let{data:e}=await t.O.from("product_categories").select("id").eq("slug","diving-equipment").single();if(e){let{data:i,error:l}=await t.O.from("products").select("*").eq("category_id",e.id).eq("is_active",!0).limit(3);console.log("Raw products data from database:",i),s(i||[])}}catch(e){console.error("Error:",e)}finally{n(!1)}})()},[]),i)?(0,l.jsx)("div",{className:"p-8",children:"Loading..."}):(0,l.jsxs)("div",{className:"p-8 max-w-6xl mx-auto",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"\uD83D\uDD0D Debug Product Data"}),e.map((e,s)=>{var i;return(0,l.jsxs)("div",{className:"mb-12 border-b pb-8",children:[(0,l.jsxs)("h2",{className:"text-2xl font-semibold mb-4",children:["Product ",s+1,": ",e.name]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-3",children:"\uD83D\uDDC3️ Raw Database Data:"}),(0,l.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg text-sm",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"image_url:"})," ",e.image_url||"NULL"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"images (type):"})," ",typeof e.images]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"images (value):"})," ",JSON.stringify(e.images)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"images (length):"})," ",(null===(i=e.images)||void 0===i?void 0:i.length)||"N/A"]})]})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-3",children:"\uD83D\uDD27 ProductCard Logic:"}),(0,l.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg text-sm",children:(()=>{let s=e.images&&e.images.length>0?e.images:e.image_url?[e.image_url]:["fallback"];return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Condition 1:"})," product.images && product.images.length > 0 = ",String(e.images&&e.images.length>0)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Condition 2:"})," product.image_url exists = ",String(!!e.image_url)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Final images array:"})," ",JSON.stringify(s)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Final count:"})," ",s.length]})]})})()})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-medium mb-3",children:"\uD83C\uDFA8 Rendered ProductCard:"}),(0,l.jsx)("div",{className:"max-w-sm",children:(0,l.jsx)(o,{product:e})})]}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("button",{onClick:()=>{var s;console.log("=== PRODUCT DEBUG ==="),console.log("Product:",e),console.log("product.images:",e.images),console.log("typeof product.images:",typeof e.images),console.log("Array.isArray(product.images):",Array.isArray(e.images)),console.log("product.images?.length:",null===(s=e.images)||void 0===s?void 0:s.length),console.log("===================")},className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"\uD83D\uDDA5️ Log to Console"})})]},e.id)}),(0,l.jsxs)("div",{className:"mt-8 bg-yellow-50 p-6 rounded-lg",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDD0D Debugging Steps:"}),(0,l.jsxs)("ol",{className:"list-decimal list-inside space-y-2",children:[(0,l.jsxs)("li",{children:["Check if ",(0,l.jsx)("code",{children:"images"})," field is actually an array in the database"]}),(0,l.jsx)("li",{children:"Verify the data type when it reaches the React component"}),(0,l.jsx)("li",{children:"Check if Supabase is parsing JSON correctly"}),(0,l.jsx)("li",{children:"Test the ProductCard logic with the actual data"})]})]})]})}},6151:function(e,s,i){"use strict";i.d(s,{O:function(){return n},e:function(){return r}});var l=i(6580);let a="https://ilxfqrxybtcftioizoan.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseGZxcnh5YnRjZnRpb2l6b2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTg5MjMsImV4cCI6MjA2OTQzNDkyM30.Jhjy7136xlqHcVjeCGPDvh4Ofpio3a09Y2fFu2Sqqh0";a||console.warn("Supabase URL not configured properly. Using fallback configuration."),t||console.warn("Supabase Anon Key not configured properly. Using fallback configuration.");let n=(0,l.eI)(a||"https://placeholder.supabase.co",t||"placeholder-key"),r=()=>(0,l.eI)(a||"https://placeholder.supabase.co",t||"placeholder-key")},2451:function(e,s,i){"use strict";i.d(s,{Z:function(){return l}});let l=(0,i(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,s,i){"use strict";i.d(s,{Z:function(){return l}});let l=(0,i(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},function(e){e.O(0,[6580,3847,2971,2117,1744],function(){return e(e.s=365)}),_N_E=e.O()}]);