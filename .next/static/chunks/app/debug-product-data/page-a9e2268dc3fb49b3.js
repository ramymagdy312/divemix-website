(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4989],{90365:function(e,t,a){Promise.resolve().then(a.bind(a,81244))},58870:function(e,t,a){"use strict";var s=a(57437),r=a(40521);let n={fadeIn:{initial:{opacity:0},animate:{opacity:1}},slideUp:{initial:{opacity:0,y:20},animate:{opacity:1,y:0}},slideIn:{initial:{opacity:0,x:-20},animate:{opacity:1,x:0}},scale:{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1}}};t.Z=e=>{let{children:t,animation:a="fadeIn",delay:i=0,duration:l=.5,className:o=""}=e;return(0,s.jsx)(r.E.div,{initial:"initial",whileInView:"animate",viewport:{once:!0,margin:"-50px"},variants:n[a],transition:{duration:l,delay:i,ease:"easeOut"},className:o,children:t})}},32178:function(e,t,a){"use strict";var s=a(57437),r=a(2265);t.Z=e=>{let{content:t,children:a,position:n="top",className:i=""}=e,[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)({x:0,y:0}),u=(0,r.useRef)(null),h=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(l&&h.current&&u.current){let e=h.current.getBoundingClientRect(),t=u.current.getBoundingClientRect(),a=0,s=0;switch(n){case"top":a=e.left+(e.width-t.width)/2,s=e.top-t.height-8;break;case"bottom":a=e.left+(e.width-t.width)/2,s=e.bottom+8;break;case"left":a=e.left-t.width-8,s=e.top+(e.height-t.height)/2;break;case"right":a=e.right+8,s=e.top+(e.height-t.height)/2}d({x:a,y:s})}},[l,n]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{ref:h,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"inline-block ".concat(i),children:a}),l&&(0,s.jsxs)("div",{ref:u,className:"fixed z-50 px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-lg pointer-events-none transition-opacity duration-200",style:{left:c.x,top:c.y},children:[t,(0,s.jsx)("div",{className:(()=>{let e="absolute w-2 h-2 bg-gray-900 transform rotate-45";switch(n){case"top":return"".concat(e," -bottom-1 left-1/2 -translate-x-1/2");case"bottom":return"".concat(e," -top-1 left-1/2 -translate-x-1/2");case"left":return"".concat(e," -right-1 top-1/2 -translate-y-1/2");case"right":return"".concat(e," -left-1 top-1/2 -translate-y-1/2");default:return e}})()})]})]})}},81244:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var s=a(57437),r=a(2265),n=a(86151),i=a(43391),l=a(92451),o=a(10407),c=a(88997),d=a(68919),u=a(86595),h=a(42208),g=a(33145),x=a(58870),m=a(32178),p=e=>{let{product:t,index:a=0,onViewDetails:n}=e,p=t.images&&t.images.length>0?t.images:t.image_url?[t.image_url]:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=800"],[f,y]=(0,r.useState)(0),[b,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),N=()=>{null==n||n(t)},k=t.name||"Unknown Product",D=t.short_description||t.description||t.desc||"No description available";return(0,s.jsx)(x.Z,{animation:"slideUp",delay:.1*a,children:(0,s.jsxs)("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-100 hover:border-cyan-200 relative cursor-pointer card-enhanced",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onClick:N,children:[(0,s.jsxs)("div",{className:"relative h-64 overflow-hidden bg-gradient-to-br from-gray-50 to-gray-100",children:[(0,s.jsx)(g.default,{src:p[f],alt:k,fill:!0,className:"object-cover transform transition-transform duration-700 group-hover:scale-110",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),N()},className:"absolute top-4 left-4 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center transition-all duration-300 hover:bg-black/70 hover:scale-110 ".concat(j?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"),children:(0,s.jsx)(i.Z,{className:"w-5 h-5"})}),p.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),y(e=>0===e?p.length-1:e-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-white/90 rounded-full text-gray-700 hover:bg-white hover:text-gray-900 transition-all duration-200 shadow-lg ".concat(j?"opacity-100 translate-x-0":"opacity-0 -translate-x-2"),children:(0,s.jsx)(l.Z,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),y(e=>e===p.length-1?0:e+1)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-white/90 rounded-full text-gray-700 hover:bg-white hover:text-gray-900 transition-all duration-200 shadow-lg ".concat(j?"opacity-100 translate-x-0":"opacity-0 translate-x-2"),children:(0,s.jsx)(o.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col space-y-2 transition-all duration-300 ".concat(j?"translate-x-0 opacity-100":"translate-x-12 opacity-0"),children:[(0,s.jsx)(m.Z,{content:b?"Remove from favorites":"Add to favorites",children:(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),v(!b)},className:"w-10 h-10 rounded-full flex items-center justify-center transition-all duration-200 shadow-lg ".concat(b?"bg-red-500 text-white scale-110":"bg-white/90 text-gray-600 hover:bg-white hover:text-red-500 hover:scale-110"),children:(0,s.jsx)(c.Z,{className:"w-5 h-5 ".concat(b?"fill-current":"")})})}),(0,s.jsx)(m.Z,{content:"Share product",children:(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),navigator.share&&navigator.share({title:k,text:D,url:window.location.href})},className:"w-10 h-10 bg-white/90 text-gray-600 rounded-full flex items-center justify-center hover:bg-white hover:text-cyan-600 hover:scale-110 transition-all duration-200 shadow-lg",children:(0,s.jsx)(d.Z,{className:"w-5 h-5"})})})]}),t.features&&t.features.length>0&&(0,s.jsx)("div",{className:"absolute top-4 left-4",children:(0,s.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-full px-3 py-1 text-xs font-semibold shadow-lg",children:[t.features.length," Features"]})}),p.length>1&&(0,s.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:p.map((e,t)=>(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),y(t)},className:"w-2 h-2 rounded-full transition-all duration-200 ".concat(t===f?"bg-white scale-125 shadow-lg":"bg-white/60 hover:bg-white/80")},t))})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-cyan-700 transition-colors duration-300 line-clamp-2",children:k}),(0,s.jsx)("p",{className:"text-gray-600 leading-relaxed line-clamp-3 text-sm",children:D}),t.features&&t.features.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-gray-800 flex items-center",children:[(0,s.jsx)(u.Z,{className:"w-4 h-4 mr-2 text-cyan-600"}),"Key Features"]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.features.slice(0,3).map((e,t)=>(0,s.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-cyan-50 to-blue-50 text-cyan-700 border border-cyan-200 hover:from-cyan-100 hover:to-blue-100 transition-colors duration-200",children:e.length>15?"".concat(e.substring(0,15),"..."):e},t)),t.features.length>3&&(0,s.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200",children:["+",t.features.length-3," more"]})]})]}),(0,s.jsxs)("button",{onClick:N,className:"w-full mt-4 bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-lg font-medium hover:from-cyan-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 group/btn",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform duration-200"}),(0,s.jsx)("span",{children:"View Details"})]})]}),(0,s.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-cyan-100/30 to-transparent rounded-full -translate-y-10 translate-x-10 group-hover:scale-150 transition-transform duration-700"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-blue-100/30 to-transparent rounded-full translate-y-8 -translate-x-8 group-hover:scale-150 transition-transform duration-700"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000 pointer-events-none"})]})})};function f(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let{data:e}=await n.O.from("product_categories").select("id").eq("slug","diving-equipment").single();if(e){let{data:a,error:s}=await n.O.from("products").select("*").eq("category_id",e.id).eq("is_active",!0).limit(3);console.log("Raw products data from database:",a),t(a||[])}}catch(e){console.error("Error:",e)}finally{i(!1)}})()},[]),a)?(0,s.jsx)("div",{className:"p-8",children:"Loading..."}):(0,s.jsxs)("div",{className:"p-8 max-w-6xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"\uD83D\uDD0D Debug Product Data"}),e.map((e,t)=>{var a;return(0,s.jsxs)("div",{className:"mb-12 border-b pb-8",children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold mb-4",children:["Product ",t+1,": ",e.name]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-3",children:"\uD83D\uDDC3️ Raw Database Data:"}),(0,s.jsx)("div",{className:"bg-gray-100 p-4 rounded-lg text-sm",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",e.name]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"image_url:"})," ",e.image_url||"NULL"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"images (type):"})," ",typeof e.images]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"images (value):"})," ",JSON.stringify(e.images)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"images (length):"})," ",(null===(a=e.images)||void 0===a?void 0:a.length)||"N/A"]})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-3",children:"\uD83D\uDD27 ProductCard Logic:"}),(0,s.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg text-sm",children:(()=>{let t=e.images&&e.images.length>0?e.images:e.image_url?[e.image_url]:["fallback"];return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Condition 1:"})," product.images && product.images.length > 0 = ",String(e.images&&e.images.length>0)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Condition 2:"})," product.image_url exists = ",String(!!e.image_url)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Final images array:"})," ",JSON.stringify(t)]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Final count:"})," ",t.length]})]})})()})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-3",children:"\uD83C\uDFA8 Rendered ProductCard:"}),(0,s.jsx)("div",{className:"max-w-sm",children:(0,s.jsx)(p,{product:e})})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{onClick:()=>{var t;console.log("=== PRODUCT DEBUG ==="),console.log("Product:",e),console.log("product.images:",e.images),console.log("typeof product.images:",typeof e.images),console.log("Array.isArray(product.images):",Array.isArray(e.images)),console.log("product.images?.length:",null===(t=e.images)||void 0===t?void 0:t.length),console.log("===================")},className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"\uD83D\uDDA5️ Log to Console"})})]},e.id)}),(0,s.jsxs)("div",{className:"mt-8 bg-yellow-50 p-6 rounded-lg",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDD0D Debugging Steps:"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-2",children:[(0,s.jsxs)("li",{children:["Check if ",(0,s.jsx)("code",{children:"images"})," field is actually an array in the database"]}),(0,s.jsx)("li",{children:"Verify the data type when it reaches the React component"}),(0,s.jsx)("li",{children:"Check if Supabase is parsing JSON correctly"}),(0,s.jsx)("li",{children:"Test the ProductCard logic with the actual data"})]})]})]})}},86151:function(e,t,a){"use strict";a.d(t,{O:function(){return i},e:function(){return l}});var s=a(96580);let r="https://ilxfqrxybtcftioizoan.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseGZxcnh5YnRjZnRpb2l6b2FuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM4NTg5MjMsImV4cCI6MjA2OTQzNDkyM30.Jhjy7136xlqHcVjeCGPDvh4Ofpio3a09Y2fFu2Sqqh0";r||console.warn("Supabase URL not configured properly. Using fallback configuration."),n||console.warn("Supabase Anon Key not configured properly. Using fallback configuration.");let i=(0,s.eI)(r||"https://placeholder.supabase.co",n||"placeholder-key"),l=()=>(0,s.eI)(r||"https://placeholder.supabase.co",n||"placeholder-key")},92451:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},10407:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},42208:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},88997:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},68919:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},86595:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},43391:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])}},function(e){e.O(0,[6580,3847,521,2971,2117,1744],function(){return e(e.s=90365)}),_N_E=e.O()}]);